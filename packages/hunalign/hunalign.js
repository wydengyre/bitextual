var ot=(()=>{var j=import.meta.url;return async function(P={}){var f=typeof P<"u"?P:{},Y,W;f.ready=new Promise(function(r,e){Y=r,W=e});var rr=Object.assign({},f),gr=[],er="./this.program",tr=(r,e)=>{throw e},Pr=typeof window=="object",X=typeof importScripts=="function",nr=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="";function $r(r){return f.locateFile?f.locateFile(r,x):x+r}var G,K,or,Qr;function Zr(r){if(r instanceof cr)return;let e=r;r&&typeof r=="object"&&r.stack&&(e=[r,r.stack]),L("exiting due to exception: "+e)}if(nr){let{createRequire:r}=await import("module");var ir=r(import.meta.url),Er=ir("fs"),_r=ir("path");X?x=_r.dirname(x)+"/":x=ir("url").fileURLToPath(new URL("./",import.meta.url)),G=(e,t)=>(e=lr(e)?new URL(e):_r.normalize(e),Er.readFileSync(e,t?void 0:"utf8")),or=e=>{var t=G(e,!0);return t.buffer||(t=new Uint8Array(t)),t},K=(e,t,o)=>{e=lr(e)?new URL(e):_r.normalize(e),Er.readFile(e,function(i,a){i?o(i):t(a.buffer)})},process.argv.length>1&&(er=process.argv[1].replace(/\\/g,"/")),gr=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof cr))throw e});var re=process.versions.node.split(".")[0];re<15&&process.on("unhandledRejection",function(e){throw e}),tr=(e,t)=>{if(Lr())throw process.exitCode=e,t;Zr(t),process.exit(e)},f.inspect=function(){return"[Emscripten Module object]"}}else(Pr||X)&&(X?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),j&&(x=j),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",G=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(null),e.responseText},X&&(or=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),K=(r,e,t)=>{var o=new XMLHttpRequest;o.open("GET",r,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){e(o.response);return}t()},o.onerror=t,o.send(null)},Qr=r=>document.title=r);var ar=f.print||console.log.bind(console),L=f.printErr||console.warn.bind(console);Object.assign(f,rr),rr=null,f.arguments&&(gr=f.arguments),f.thisProgram&&(er=f.thisProgram),f.quit&&(tr=f.quit);var J;f.wasmBinary&&(J=f.wasmBinary);var ee=f.noExitRuntime||!0;typeof WebAssembly!="object"&&U("no native wasm support detected");var sr,kr=!1,ur;function te(r,e){r||U(e)}var Rr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function V(r,e,t){for(var o=e+t,i=e;r[i]&&!(i>=o);)++i;if(i-e>16&&r.buffer&&Rr)return Rr.decode(r.subarray(e,i));for(var a="";e<i;){var s=r[e++];if(!(s&128)){a+=String.fromCharCode(s);continue}var u=r[e++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|u);continue}var c=r[e++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|c:s=(s&7)<<18|u<<12|c<<6|r[e++]&63,s<65536)a+=String.fromCharCode(s);else{var v=s-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}function q(r,e){return r?V($,r,e):""}function br(r,e,t,o){if(!(o>0))return 0;for(var i=t,a=t+o-1,s=0;s<r.length;++s){var u=r.charCodeAt(s);if(u>=55296&&u<=57343){var c=r.charCodeAt(++s);u=65536+((u&1023)<<10)|c&1023}if(u<=127){if(t>=a)break;e[t++]=u}else if(u<=2047){if(t+1>=a)break;e[t++]=192|u>>6,e[t++]=128|u&63}else if(u<=65535){if(t+2>=a)break;e[t++]=224|u>>12,e[t++]=128|u>>6&63,e[t++]=128|u&63}else{if(t+3>=a)break;e[t++]=240|u>>18,e[t++]=128|u>>12&63,e[t++]=128|u>>6&63,e[t++]=128|u&63}}return e[t]=0,t-i}function Dr(r){for(var e=0,t=0;t<r.length;++t){var o=r.charCodeAt(t);o<=127?e++:o<=2047?e+=2:o>=55296&&o<=57343?(e+=4,++t):e+=3}return e}var T,$,Tr,ne,p,D,oe,ie;function Nr(){var r=sr.buffer;f.HEAP8=T=new Int8Array(r),f.HEAP16=Tr=new Int16Array(r),f.HEAP32=p=new Int32Array(r),f.HEAPU8=$=new Uint8Array(r),f.HEAPU16=ne=new Uint16Array(r),f.HEAPU32=D=new Uint32Array(r),f.HEAPF32=oe=new Float32Array(r),f.HEAPF64=ie=new Float64Array(r)}var ae,xr=[],Br=[],se=[],Or=[],ue=!1;function Lr(){return ee}function fe(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)me(f.preRun.shift());dr(xr)}function le(){ue=!0,!f.noFSInit&&!n.init.initialized&&n.init(),n.ignorePermissions=!1,C.init(),dr(Br)}function ce(){dr(se)}function de(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)ve(f.postRun.shift());dr(Or)}function me(r){xr.unshift(r)}function he(r){Br.unshift(r)}function ve(r){Or.unshift(r)}var I=0,Sr=null,Q=null;function st(r){return r}function Ar(r){I++,f.monitorRunDependencies&&f.monitorRunDependencies(I)}function fr(r){if(I--,f.monitorRunDependencies&&f.monitorRunDependencies(I),I==0&&(Sr!==null&&(clearInterval(Sr),Sr=null),Q)){var e=Q;Q=null,e()}}function U(r){f.onAbort&&f.onAbort(r),r="Aborted("+r+")",L(r),kr=!0,ur=1,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw W(e),e}var pe="data:application/octet-stream;base64,";function zr(r){return r.startsWith(pe)}function lr(r){return r.startsWith("file://")}var H;f.locateFile?(H="hunalign.wasm",zr(H)||(H=$r(H))):H=new URL("hunalign.wasm",import.meta.url).href;function Ur(r){try{if(r==H&&J)return new Uint8Array(J);if(or)return or(r);throw"both async and sync fetching of the wasm failed"}catch(e){U(e)}}function we(r){if(!J&&(Pr||X)){if(typeof fetch=="function"&&!lr(r))return fetch(r,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+r+"'";return e.arrayBuffer()}).catch(function(){return Ur(r)});if(K)return new Promise(function(e,t){K(r,function(o){e(new Uint8Array(o))},t)})}return Promise.resolve().then(function(){return Ur(r)})}function Cr(r,e,t){return we(r).then(function(o){return WebAssembly.instantiate(o,e)}).then(function(o){return o}).then(t,function(o){L("failed to asynchronously prepare wasm: "+o),U(o)})}function ye(r,e,t,o){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!zr(e)&&!lr(e)&&!nr&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(function(i){var a=WebAssembly.instantiateStreaming(i,t);return a.then(o,function(s){return L("wasm streaming compile failed: "+s),L("falling back to ArrayBuffer instantiation"),Cr(e,t,o)})}):Cr(e,t,o)}function ge(){var r={a:tt};function e(o,i){var a=o.exports;return f.asm=a,sr=f.asm.p,Nr(),ae=f.asm.r,he(f.asm.q),fr("wasm-instantiate"),a}Ar("wasm-instantiate");function t(o){e(o.instance)}if(f.instantiateWasm)try{return f.instantiateWasm(r,e)}catch(o){L("Module.instantiateWasm callback failed with error: "+o),W(o)}return ye(J,H,r,t).catch(W),{}}var y,M;function cr(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function dr(r){for(;r.length>0;)r.shift()(f)}function Ee(r,e,t,o){U("Assertion failed: "+q(r)+", at: "+[e?q(e):"unknown filename",t,o?q(o):"unknown function"])}function _e(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(e){D[this.ptr+4>>2]=e},this.get_type=function(){return D[this.ptr+4>>2]},this.set_destructor=function(e){D[this.ptr+8>>2]=e},this.get_destructor=function(){return D[this.ptr+8>>2]},this.set_refcount=function(e){p[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,T[this.ptr+12>>0]=e},this.get_caught=function(){return T[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,T[this.ptr+13>>0]=e},this.get_rethrown=function(){return T[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=p[this.ptr>>2];p[this.ptr>>2]=e+1},this.release_ref=function(){var e=p[this.ptr>>2];return p[this.ptr>>2]=e-1,e===1},this.set_adjusted_ptr=function(e){D[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return D[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=Vr(this.get_type());if(e)return D[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var ke=0,be=0;function De(r,e,t){var o=new _e(r);throw o.init(e,t),ke=r,be++,r}function Se(r){return p[Xr()>>2]=r,r}var k={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(r).slice(1)},normalizeArray:(r,e)=>{for(var t=0,o=r.length-1;o>=0;o--){var i=r[o];i==="."?r.splice(o,1):i===".."?(r.splice(o,1),t++):t&&(r.splice(o,1),t--)}if(e)for(;t;t--)r.unshift("..");return r},normalize:r=>{var e=k.isAbs(r),t=r.substr(-1)==="/";return r=k.normalizeArray(r.split("/").filter(o=>!!o),!e).join("/"),!r&&!e&&(r="."),r&&t&&(r+="/"),(e?"/":"")+r},dirname:r=>{var e=k.splitPath(r),t=e[0],o=e[1];return!t&&!o?".":(o&&(o=o.substr(0,o.length-1)),t+o)},basename:r=>{if(r==="/")return"/";r=k.normalize(r),r=r.replace(/\/$/,"");var e=r.lastIndexOf("/");return e===-1?r:r.substr(e+1)},join:function(){var r=Array.prototype.slice.call(arguments);return k.normalize(r.join("/"))},join2:(r,e)=>k.normalize(r+"/"+e)};function Ae(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return()=>(crypto.getRandomValues(r),r[0])}else if(nr)try{var e=ir("crypto");return()=>e.randomBytes(1)[0]}catch{}return()=>U("randomDevice")}var z={resolve:function(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var o=t>=0?arguments[t]:n.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";r=o+"/"+r,e=k.isAbs(o)}return r=k.normalizeArray(r.split("/").filter(i=>!!i),!e).join("/"),(e?"/":"")+r||"."},relative:(r,e)=>{r=z.resolve(r).substr(1),e=z.resolve(e).substr(1);function t(v){for(var g=0;g<v.length&&v[g]==="";g++);for(var _=v.length-1;_>=0&&v[_]==="";_--);return g>_?[]:v.slice(g,_-g+1)}for(var o=t(r.split("/")),i=t(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var c=[],u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")}};function mr(r,e,t){var o=t>0?t:Dr(r)+1,i=new Array(o),a=br(r,i,0,i.length);return e&&(i.length=a),i}var C={ttys:[],init:function(){},shutdown:function(){},register:function(r,e){C.ttys[r]={input:[],output:[],ops:e},n.registerDevice(r,C.stream_ops)},stream_ops:{open:function(r){var e=C.ttys[r.node.rdev];if(!e)throw new n.ErrnoError(43);r.tty=e,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,e,t,o,i){if(!r.tty||!r.tty.ops.get_char)throw new n.ErrnoError(60);for(var a=0,s=0;s<o;s++){var u;try{u=r.tty.ops.get_char(r.tty)}catch{throw new n.ErrnoError(29)}if(u===void 0&&a===0)throw new n.ErrnoError(6);if(u==null)break;a++,e[t+s]=u}return a&&(r.node.timestamp=Date.now()),a},write:function(r,e,t,o,i){if(!r.tty||!r.tty.ops.put_char)throw new n.ErrnoError(60);try{for(var a=0;a<o;a++)r.tty.ops.put_char(r.tty,e[t+a])}catch{throw new n.ErrnoError(29)}return o&&(r.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(r){if(!r.input.length){var e=null;if(nr){var t=256,o=Buffer.alloc(t),i=0;try{i=Er.readSync(process.stdin.fd,o,0,t,-1)}catch(a){if(a.toString().includes("EOF"))i=0;else throw a}i>0?e=o.slice(0,i).toString("utf-8"):e=null}else typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`));if(!e)return null;r.input=mr(e,!0)}return r.input.shift()},put_char:function(r,e){e===null||e===10?(ar(V(r.output,0)),r.output=[]):e!=0&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(ar(V(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,e){e===null||e===10?(L(V(r.output,0)),r.output=[]):e!=0&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(L(V(r.output,0)),r.output=[])}}};function Ir(r){U()}var w={ops_table:null,mount:function(r){return w.createNode(null,"/",16895,0)},createNode:function(r,e,t,o){if(n.isBlkdev(t)||n.isFIFO(t))throw new n.ErrnoError(63);w.ops_table||(w.ops_table={dir:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,lookup:w.node_ops.lookup,mknod:w.node_ops.mknod,rename:w.node_ops.rename,unlink:w.node_ops.unlink,rmdir:w.node_ops.rmdir,readdir:w.node_ops.readdir,symlink:w.node_ops.symlink},stream:{llseek:w.stream_ops.llseek}},file:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:{llseek:w.stream_ops.llseek,read:w.stream_ops.read,write:w.stream_ops.write,allocate:w.stream_ops.allocate,mmap:w.stream_ops.mmap,msync:w.stream_ops.msync}},link:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,readlink:w.node_ops.readlink},stream:{}},chrdev:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:n.chrdev_stream_ops}});var i=n.createNode(r,e,t,o);return n.isDir(i.mode)?(i.node_ops=w.ops_table.dir.node,i.stream_ops=w.ops_table.dir.stream,i.contents={}):n.isFile(i.mode)?(i.node_ops=w.ops_table.file.node,i.stream_ops=w.ops_table.file.stream,i.usedBytes=0,i.contents=null):n.isLink(i.mode)?(i.node_ops=w.ops_table.link.node,i.stream_ops=w.ops_table.link.stream):n.isChrdev(i.mode)&&(i.node_ops=w.ops_table.chrdev.node,i.stream_ops=w.ops_table.chrdev.stream),i.timestamp=Date.now(),r&&(r.contents[e]=i,r.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,e){var t=r.contents?r.contents.length:0;if(!(t>=e)){var o=1024*1024;e=Math.max(e,t*(t<o?2:1.125)>>>0),t!=0&&(e=Math.max(e,256));var i=r.contents;r.contents=new Uint8Array(e),r.usedBytes>0&&r.contents.set(i.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,e){if(r.usedBytes!=e)if(e==0)r.contents=null,r.usedBytes=0;else{var t=r.contents;r.contents=new Uint8Array(e),t&&r.contents.set(t.subarray(0,Math.min(e,r.usedBytes))),r.usedBytes=e}},node_ops:{getattr:function(r){var e={};return e.dev=n.isChrdev(r.mode)?r.id:1,e.ino=r.id,e.mode=r.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=r.rdev,n.isDir(r.mode)?e.size=4096:n.isFile(r.mode)?e.size=r.usedBytes:n.isLink(r.mode)?e.size=r.link.length:e.size=0,e.atime=new Date(r.timestamp),e.mtime=new Date(r.timestamp),e.ctime=new Date(r.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(r,e){e.mode!==void 0&&(r.mode=e.mode),e.timestamp!==void 0&&(r.timestamp=e.timestamp),e.size!==void 0&&w.resizeFileStorage(r,e.size)},lookup:function(r,e){throw n.genericErrors[44]},mknod:function(r,e,t,o){return w.createNode(r,e,t,o)},rename:function(r,e,t){if(n.isDir(r.mode)){var o;try{o=n.lookupNode(e,t)}catch{}if(o)for(var i in o.contents)throw new n.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=t,e.contents[t]=r,e.timestamp=r.parent.timestamp,r.parent=e},unlink:function(r,e){delete r.contents[e],r.timestamp=Date.now()},rmdir:function(r,e){var t=n.lookupNode(r,e);for(var o in t.contents)throw new n.ErrnoError(55);delete r.contents[e],r.timestamp=Date.now()},readdir:function(r){var e=[".",".."];for(var t in r.contents)r.contents.hasOwnProperty(t)&&e.push(t);return e},symlink:function(r,e,t){var o=w.createNode(r,e,41471,0);return o.link=t,o},readlink:function(r){if(!n.isLink(r.mode))throw new n.ErrnoError(28);return r.link}},stream_ops:{read:function(r,e,t,o,i){var a=r.node.contents;if(i>=r.node.usedBytes)return 0;var s=Math.min(r.node.usedBytes-i,o);if(s>8&&a.subarray)e.set(a.subarray(i,i+s),t);else for(var u=0;u<s;u++)e[t+u]=a[i+u];return s},write:function(r,e,t,o,i,a){if(e.buffer===T.buffer&&(a=!1),!o)return 0;var s=r.node;if(s.timestamp=Date.now(),e.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=e.subarray(t,t+o),s.usedBytes=o,o;if(s.usedBytes===0&&i===0)return s.contents=e.slice(t,t+o),s.usedBytes=o,o;if(i+o<=s.usedBytes)return s.contents.set(e.subarray(t,t+o),i),o}if(w.expandFileStorage(s,i+o),s.contents.subarray&&e.subarray)s.contents.set(e.subarray(t,t+o),i);else for(var u=0;u<o;u++)s.contents[i+u]=e[t+u];return s.usedBytes=Math.max(s.usedBytes,i+o),o},llseek:function(r,e,t){var o=e;if(t===1?o+=r.position:t===2&&n.isFile(r.node.mode)&&(o+=r.node.usedBytes),o<0)throw new n.ErrnoError(28);return o},allocate:function(r,e,t){w.expandFileStorage(r.node,e+t),r.node.usedBytes=Math.max(r.node.usedBytes,e+t)},mmap:function(r,e,t,o,i){if(!n.isFile(r.node.mode))throw new n.ErrnoError(43);var a,s,u=r.node.contents;if(!(i&2)&&u.buffer===T.buffer)s=!1,a=u.byteOffset;else{if((t>0||t+e<u.length)&&(u.subarray?u=u.subarray(t,t+e):u=Array.prototype.slice.call(u,t,t+e)),s=!0,a=Ir(e),!a)throw new n.ErrnoError(48);T.set(u,a)}return{ptr:a,allocated:s}},msync:function(r,e,t,o,i){return w.stream_ops.write(r,e,0,o,t,!1),0}}};function Me(r,e,t,o){var i=o?"":"al "+r;K(r,a=>{te(a,'Loading data file "'+r+'" failed (no arrayBuffer).'),e(new Uint8Array(a)),i&&fr(i)},a=>{if(t)t();else throw'Loading data file "'+r+'" failed.'}),i&&Ar(i)}var n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,e={})=>{if(r=z.resolve(r),!r)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(e=Object.assign(t,e),e.recurse_count>8)throw new n.ErrnoError(32);for(var o=r.split("/").filter(_=>!!_),i=n.root,a="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&e.parent)break;if(i=n.lookupNode(i,o[s]),a=k.join2(a,o[s]),n.isMountpoint(i)&&(!u||u&&e.follow_mount)&&(i=i.mounted.root),!u||e.follow)for(var c=0;n.isLink(i.mode);){var v=n.readlink(a);a=z.resolve(k.dirname(a),v);var g=n.lookupPath(a,{recurse_count:e.recurse_count+1});if(i=g.node,c++>40)throw new n.ErrnoError(32)}}return{path:a,node:i}},getPath:r=>{for(var e;;){if(n.isRoot(r)){var t=r.mount.mountpoint;return e?t[t.length-1]!=="/"?t+"/"+e:t+e:t}e=e?r.name+"/"+e:r.name,r=r.parent}},hashName:(r,e)=>{for(var t=0,o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o)|0;return(r+t>>>0)%n.nameTable.length},hashAddNode:r=>{var e=n.hashName(r.parent.id,r.name);r.name_next=n.nameTable[e],n.nameTable[e]=r},hashRemoveNode:r=>{var e=n.hashName(r.parent.id,r.name);if(n.nameTable[e]===r)n.nameTable[e]=r.name_next;else for(var t=n.nameTable[e];t;){if(t.name_next===r){t.name_next=r.name_next;break}t=t.name_next}},lookupNode:(r,e)=>{var t=n.mayLookup(r);if(t)throw new n.ErrnoError(t,r);for(var o=n.hashName(r.id,e),i=n.nameTable[o];i;i=i.name_next){var a=i.name;if(i.parent.id===r.id&&a===e)return i}return n.lookup(r,e)},createNode:(r,e,t,o)=>{var i=new n.FSNode(r,e,t,o);return n.hashAddNode(i),i},destroyNode:r=>{n.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var e=n.flagModes[r];if(typeof e>"u")throw new Error("Unknown file open mode: "+r);return e},flagsToPermissionString:r=>{var e=["r","w","rw"][r&3];return r&512&&(e+="w"),e},nodePermissions:(r,e)=>n.ignorePermissions?0:e.includes("r")&&!(r.mode&292)||e.includes("w")&&!(r.mode&146)||e.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var e=n.nodePermissions(r,"x");return e||(r.node_ops.lookup?0:2)},mayCreate:(r,e)=>{try{var t=n.lookupNode(r,e);return 20}catch{}return n.nodePermissions(r,"wx")},mayDelete:(r,e,t)=>{var o;try{o=n.lookupNode(r,e)}catch(a){return a.errno}var i=n.nodePermissions(r,"wx");if(i)return i;if(t){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.getPath(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},mayOpen:(r,e)=>r?n.isLink(r.mode)?32:n.isDir(r.mode)&&(n.flagsToPermissionString(e)!=="r"||e&512)?31:n.nodePermissions(r,n.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,e=n.MAX_OPEN_FDS)=>{for(var t=r;t<=e;t++)if(!n.streams[t])return t;throw new n.ErrnoError(33)},getStream:r=>n.streams[r],createStream:(r,e,t)=>{n.FSStream||(n.FSStream=function(){this.shared={}},n.FSStream.prototype={},Object.defineProperties(n.FSStream.prototype,{object:{get:function(){return this.node},set:function(i){this.node=i}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(i){this.shared.flags=i}},position:{get:function(){return this.shared.position},set:function(i){this.shared.position=i}}})),r=Object.assign(new n.FSStream,r);var o=n.nextfd(e,t);return r.fd=o,n.streams[o]=r,r},closeStream:r=>{n.streams[r]=null},chrdev_stream_ops:{open:r=>{var e=n.getDevice(r.node.rdev);r.stream_ops=e.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new n.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,e)=>r<<8|e,registerDevice:(r,e)=>{n.devices[r]={stream_ops:e}},getDevice:r=>n.devices[r],getMounts:r=>{for(var e=[],t=[r];t.length;){var o=t.pop();e.push(o),t.push.apply(t,o.mounts)}return e},syncfs:(r,e)=>{typeof r=="function"&&(e=r,r=!1),n.syncFSRequests++,n.syncFSRequests>1&&L("warning: "+n.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=n.getMounts(n.root.mount),o=0;function i(s){return n.syncFSRequests--,e(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,i(s));++o>=t.length&&i(null)}t.forEach(s=>{if(!s.type.syncfs)return a(null);s.type.syncfs(s,r,a)})},mount:(r,e,t)=>{var o=t==="/",i=!t,a;if(o&&n.root)throw new n.ErrnoError(10);if(!o&&!i){var s=n.lookupPath(t,{follow_mount:!1});if(t=s.path,a=s.node,n.isMountpoint(a))throw new n.ErrnoError(10);if(!n.isDir(a.mode))throw new n.ErrnoError(54)}var u={type:r,opts:e,mountpoint:t,mounts:[]},c=r.mount(u);return c.mount=u,u.root=c,o?n.root=c:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),c},unmount:r=>{var e=n.lookupPath(r,{follow_mount:!1});if(!n.isMountpoint(e.node))throw new n.ErrnoError(28);var t=e.node,o=t.mounted,i=n.getMounts(o);Object.keys(n.nameTable).forEach(s=>{for(var u=n.nameTable[s];u;){var c=u.name_next;i.includes(u.mount)&&n.destroyNode(u),u=c}}),t.mounted=null;var a=t.mount.mounts.indexOf(o);t.mount.mounts.splice(a,1)},lookup:(r,e)=>r.node_ops.lookup(r,e),mknod:(r,e,t)=>{var o=n.lookupPath(r,{parent:!0}),i=o.node,a=k.basename(r);if(!a||a==="."||a==="..")throw new n.ErrnoError(28);var s=n.mayCreate(i,a);if(s)throw new n.ErrnoError(s);if(!i.node_ops.mknod)throw new n.ErrnoError(63);return i.node_ops.mknod(i,a,e,t)},create:(r,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,n.mknod(r,e,0)),mkdir:(r,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,n.mknod(r,e,0)),mkdirTree:(r,e)=>{for(var t=r.split("/"),o="",i=0;i<t.length;++i)if(t[i]){o+="/"+t[i];try{n.mkdir(o,e)}catch(a){if(a.errno!=20)throw a}}},mkdev:(r,e,t)=>(typeof t>"u"&&(t=e,e=438),e|=8192,n.mknod(r,e,t)),symlink:(r,e)=>{if(!z.resolve(r))throw new n.ErrnoError(44);var t=n.lookupPath(e,{parent:!0}),o=t.node;if(!o)throw new n.ErrnoError(44);var i=k.basename(e),a=n.mayCreate(o,i);if(a)throw new n.ErrnoError(a);if(!o.node_ops.symlink)throw new n.ErrnoError(63);return o.node_ops.symlink(o,i,r)},rename:(r,e)=>{var t=k.dirname(r),o=k.dirname(e),i=k.basename(r),a=k.basename(e),s,u,c;if(s=n.lookupPath(r,{parent:!0}),u=s.node,s=n.lookupPath(e,{parent:!0}),c=s.node,!u||!c)throw new n.ErrnoError(44);if(u.mount!==c.mount)throw new n.ErrnoError(75);var v=n.lookupNode(u,i),g=z.relative(r,o);if(g.charAt(0)!==".")throw new n.ErrnoError(28);if(g=z.relative(e,t),g.charAt(0)!==".")throw new n.ErrnoError(55);var _;try{_=n.lookupNode(c,a)}catch{}if(v!==_){var h=n.isDir(v.mode),d=n.mayDelete(u,i,h);if(d)throw new n.ErrnoError(d);if(d=_?n.mayDelete(c,a,h):n.mayCreate(c,a),d)throw new n.ErrnoError(d);if(!u.node_ops.rename)throw new n.ErrnoError(63);if(n.isMountpoint(v)||_&&n.isMountpoint(_))throw new n.ErrnoError(10);if(c!==u&&(d=n.nodePermissions(u,"w"),d))throw new n.ErrnoError(d);n.hashRemoveNode(v);try{u.node_ops.rename(v,c,a)}catch(E){throw E}finally{n.hashAddNode(v)}}},rmdir:r=>{var e=n.lookupPath(r,{parent:!0}),t=e.node,o=k.basename(r),i=n.lookupNode(t,o),a=n.mayDelete(t,o,!0);if(a)throw new n.ErrnoError(a);if(!t.node_ops.rmdir)throw new n.ErrnoError(63);if(n.isMountpoint(i))throw new n.ErrnoError(10);t.node_ops.rmdir(t,o),n.destroyNode(i)},readdir:r=>{var e=n.lookupPath(r,{follow:!0}),t=e.node;if(!t.node_ops.readdir)throw new n.ErrnoError(54);return t.node_ops.readdir(t)},unlink:r=>{var e=n.lookupPath(r,{parent:!0}),t=e.node;if(!t)throw new n.ErrnoError(44);var o=k.basename(r),i=n.lookupNode(t,o),a=n.mayDelete(t,o,!1);if(a)throw new n.ErrnoError(a);if(!t.node_ops.unlink)throw new n.ErrnoError(63);if(n.isMountpoint(i))throw new n.ErrnoError(10);t.node_ops.unlink(t,o),n.destroyNode(i)},readlink:r=>{var e=n.lookupPath(r),t=e.node;if(!t)throw new n.ErrnoError(44);if(!t.node_ops.readlink)throw new n.ErrnoError(28);return z.resolve(n.getPath(t.parent),t.node_ops.readlink(t))},stat:(r,e)=>{var t=n.lookupPath(r,{follow:!e}),o=t.node;if(!o)throw new n.ErrnoError(44);if(!o.node_ops.getattr)throw new n.ErrnoError(63);return o.node_ops.getattr(o)},lstat:r=>n.stat(r,!0),chmod:(r,e,t)=>{var o;if(typeof r=="string"){var i=n.lookupPath(r,{follow:!t});o=i.node}else o=r;if(!o.node_ops.setattr)throw new n.ErrnoError(63);o.node_ops.setattr(o,{mode:e&4095|o.mode&-4096,timestamp:Date.now()})},lchmod:(r,e)=>{n.chmod(r,e,!0)},fchmod:(r,e)=>{var t=n.getStream(r);if(!t)throw new n.ErrnoError(8);n.chmod(t.node,e)},chown:(r,e,t,o)=>{var i;if(typeof r=="string"){var a=n.lookupPath(r,{follow:!o});i=a.node}else i=r;if(!i.node_ops.setattr)throw new n.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(r,e,t)=>{n.chown(r,e,t,!0)},fchown:(r,e,t)=>{var o=n.getStream(r);if(!o)throw new n.ErrnoError(8);n.chown(o.node,e,t)},truncate:(r,e)=>{if(e<0)throw new n.ErrnoError(28);var t;if(typeof r=="string"){var o=n.lookupPath(r,{follow:!0});t=o.node}else t=r;if(!t.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(t.mode))throw new n.ErrnoError(31);if(!n.isFile(t.mode))throw new n.ErrnoError(28);var i=n.nodePermissions(t,"w");if(i)throw new n.ErrnoError(i);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},ftruncate:(r,e)=>{var t=n.getStream(r);if(!t)throw new n.ErrnoError(8);if(!(t.flags&2097155))throw new n.ErrnoError(28);n.truncate(t.node,e)},utime:(r,e,t)=>{var o=n.lookupPath(r,{follow:!0}),i=o.node;i.node_ops.setattr(i,{timestamp:Math.max(e,t)})},open:(r,e,t)=>{if(r==="")throw new n.ErrnoError(44);e=typeof e=="string"?n.modeStringToFlags(e):e,t=typeof t>"u"?438:t,e&64?t=t&4095|32768:t=0;var o;if(typeof r=="object")o=r;else{r=k.normalize(r);try{var i=n.lookupPath(r,{follow:!(e&131072)});o=i.node}catch{}}var a=!1;if(e&64)if(o){if(e&128)throw new n.ErrnoError(20)}else o=n.mknod(r,t,0),a=!0;if(!o)throw new n.ErrnoError(44);if(n.isChrdev(o.mode)&&(e&=-513),e&65536&&!n.isDir(o.mode))throw new n.ErrnoError(54);if(!a){var s=n.mayOpen(o,e);if(s)throw new n.ErrnoError(s)}e&512&&!a&&n.truncate(o,0),e&=-131713;var u=n.createStream({node:o,path:n.getPath(o),flags:e,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),f.logReadFiles&&!(e&1)&&(n.readFiles||(n.readFiles={}),r in n.readFiles||(n.readFiles[r]=1)),u},close:r=>{if(n.isClosed(r))throw new n.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(e){throw e}finally{n.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,e,t)=>{if(n.isClosed(r))throw new n.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new n.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new n.ErrnoError(28);return r.position=r.stream_ops.llseek(r,e,t),r.ungotten=[],r.position},read:(r,e,t,o,i)=>{if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if((r.flags&2097155)===1)throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.read)throw new n.ErrnoError(28);var a=typeof i<"u";if(!a)i=r.position;else if(!r.seekable)throw new n.ErrnoError(70);var s=r.stream_ops.read(r,e,t,o,i);return a||(r.position+=s),s},write:(r,e,t,o,i,a)=>{if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if(!(r.flags&2097155))throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.write)throw new n.ErrnoError(28);r.seekable&&r.flags&1024&&n.llseek(r,0,2);var s=typeof i<"u";if(!s)i=r.position;else if(!r.seekable)throw new n.ErrnoError(70);var u=r.stream_ops.write(r,e,t,o,i,a);return s||(r.position+=u),u},allocate:(r,e,t)=>{if(n.isClosed(r))throw new n.ErrnoError(8);if(e<0||t<=0)throw new n.ErrnoError(28);if(!(r.flags&2097155))throw new n.ErrnoError(8);if(!n.isFile(r.node.mode)&&!n.isDir(r.node.mode))throw new n.ErrnoError(43);if(!r.stream_ops.allocate)throw new n.ErrnoError(138);r.stream_ops.allocate(r,e,t)},mmap:(r,e,t,o,i)=>{if(o&2&&!(i&2)&&(r.flags&2097155)!==2)throw new n.ErrnoError(2);if((r.flags&2097155)===1)throw new n.ErrnoError(2);if(!r.stream_ops.mmap)throw new n.ErrnoError(43);return r.stream_ops.mmap(r,e,t,o,i)},msync:(r,e,t,o,i)=>r.stream_ops.msync?r.stream_ops.msync(r,e,t,o,i):0,munmap:r=>0,ioctl:(r,e,t)=>{if(!r.stream_ops.ioctl)throw new n.ErrnoError(59);return r.stream_ops.ioctl(r,e,t)},readFile:(r,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var t,o=n.open(r,e.flags),i=n.stat(r),a=i.size,s=new Uint8Array(a);return n.read(o,s,0,a,0),e.encoding==="utf8"?t=V(s,0):e.encoding==="binary"&&(t=s),n.close(o),t},writeFile:(r,e,t={})=>{t.flags=t.flags||577;var o=n.open(r,t.flags,t.mode);if(typeof e=="string"){var i=new Uint8Array(Dr(e)+1),a=br(e,i,0,i.length);n.write(o,i,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(e))n.write(o,e,0,e.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");n.close(o)},cwd:()=>n.currentPath,chdir:r=>{var e=n.lookupPath(r,{follow:!0});if(e.node===null)throw new n.ErrnoError(44);if(!n.isDir(e.node.mode))throw new n.ErrnoError(54);var t=n.nodePermissions(e.node,"x");if(t)throw new n.ErrnoError(t);n.currentPath=e.path},createDefaultDirectories:()=>{n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},createDefaultDevices:()=>{n.mkdir("/dev"),n.registerDevice(n.makedev(1,3),{read:()=>0,write:(e,t,o,i,a)=>i}),n.mkdev("/dev/null",n.makedev(1,3)),C.register(n.makedev(5,0),C.default_tty_ops),C.register(n.makedev(6,0),C.default_tty1_ops),n.mkdev("/dev/tty",n.makedev(5,0)),n.mkdev("/dev/tty1",n.makedev(6,0));var r=Ae();n.createDevice("/dev","random",r),n.createDevice("/dev","urandom",r),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{n.mkdir("/proc");var r=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount:()=>{var e=n.createNode(r,"fd",16895,73);return e.node_ops={lookup:(t,o)=>{var i=+o,a=n.getStream(i);if(!a)throw new n.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return s.parent=s,s}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{f.stdin?n.createDevice("/dev","stdin",f.stdin):n.symlink("/dev/tty","/dev/stdin"),f.stdout?n.createDevice("/dev","stdout",null,f.stdout):n.symlink("/dev/tty","/dev/stdout"),f.stderr?n.createDevice("/dev","stderr",null,f.stderr):n.symlink("/dev/tty1","/dev/stderr");var r=n.open("/dev/stdin",0),e=n.open("/dev/stdout",1),t=n.open("/dev/stderr",1)},ensureErrnoError:()=>{n.ErrnoError||(n.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(o){this.errno=o},this.setErrno(e),this.message="FS error"},n.ErrnoError.prototype=new Error,n.ErrnoError.prototype.constructor=n.ErrnoError,[44].forEach(r=>{n.genericErrors[r]=new n.ErrnoError(r),n.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{n.ensureErrnoError(),n.nameTable=new Array(4096),n.mount(w,{},"/"),n.createDefaultDirectories(),n.createDefaultDevices(),n.createSpecialDirectories(),n.filesystems={MEMFS:w}},init:(r,e,t)=>{n.init.initialized=!0,n.ensureErrnoError(),f.stdin=r||f.stdin,f.stdout=e||f.stdout,f.stderr=t||f.stderr,n.createStandardStreams()},quit:()=>{n.init.initialized=!1;for(var r=0;r<n.streams.length;r++){var e=n.streams[r];e&&n.close(e)}},getMode:(r,e)=>{var t=0;return r&&(t|=365),e&&(t|=146),t},findObject:(r,e)=>{var t=n.analyzePath(r,e);return t.exists?t.object:null},analyzePath:(r,e)=>{try{var t=n.lookupPath(r,{follow:!e});r=t.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=n.lookupPath(r,{parent:!0});o.parentExists=!0,o.parentPath=t.path,o.parentObject=t.node,o.name=k.basename(r),t=n.lookupPath(r,{follow:!e}),o.exists=!0,o.path=t.path,o.object=t.node,o.name=t.node.name,o.isRoot=t.path==="/"}catch(i){o.error=i.errno}return o},createPath:(r,e,t,o)=>{r=typeof r=="string"?r:n.getPath(r);for(var i=e.split("/").reverse();i.length;){var a=i.pop();if(a){var s=k.join2(r,a);try{n.mkdir(s)}catch{}r=s}}return s},createFile:(r,e,t,o,i)=>{var a=k.join2(typeof r=="string"?r:n.getPath(r),e),s=n.getMode(o,i);return n.create(a,s)},createDataFile:(r,e,t,o,i,a)=>{var s=e;r&&(r=typeof r=="string"?r:n.getPath(r),s=e?k.join2(r,e):r);var u=n.getMode(o,i),c=n.create(s,u);if(t){if(typeof t=="string"){for(var v=new Array(t.length),g=0,_=t.length;g<_;++g)v[g]=t.charCodeAt(g);t=v}n.chmod(c,u|146);var h=n.open(c,577);n.write(h,t,0,t.length,0,a),n.close(h),n.chmod(c,u)}return c},createDevice:(r,e,t,o)=>{var i=k.join2(typeof r=="string"?r:n.getPath(r),e),a=n.getMode(!!t,!!o);n.createDevice.major||(n.createDevice.major=64);var s=n.makedev(n.createDevice.major++,0);return n.registerDevice(s,{open:u=>{u.seekable=!1},close:u=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(u,c,v,g,_)=>{for(var h=0,d=0;d<g;d++){var E;try{E=t()}catch{throw new n.ErrnoError(29)}if(E===void 0&&h===0)throw new n.ErrnoError(6);if(E==null)break;h++,c[v+d]=E}return h&&(u.node.timestamp=Date.now()),h},write:(u,c,v,g,_)=>{for(var h=0;h<g;h++)try{o(c[v+h])}catch{throw new n.ErrnoError(29)}return g&&(u.node.timestamp=Date.now()),h}}),n.mkdev(i,a,s)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(G)try{r.contents=mr(G(r.url),!0),r.usedBytes=r.contents.length}catch{throw new n.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,e,t,o,i)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(d){if(!(d>this.length-1||d<0)){var E=d%this.chunkSize,R=d/this.chunkSize|0;return this.getter(R)[E]}},a.prototype.setDataGetter=function(d){this.getter=d},a.prototype.cacheLength=function(){var d=new XMLHttpRequest;if(d.open("HEAD",t,!1),d.send(null),!(d.status>=200&&d.status<300||d.status===304))throw new Error("Couldn't load "+t+". Status: "+d.status);var E=Number(d.getResponseHeader("Content-length")),R,B=(R=d.getResponseHeader("Accept-Ranges"))&&R==="bytes",N=(R=d.getResponseHeader("Content-Encoding"))&&R==="gzip",l=1024*1024;B||(l=E);var m=(b,O)=>{if(b>O)throw new Error("invalid range ("+b+", "+O+") or no bytes requested!");if(O>E-1)throw new Error("only "+E+" bytes available! programmer error!");var A=new XMLHttpRequest;if(A.open("GET",t,!1),E!==l&&A.setRequestHeader("Range","bytes="+b+"-"+O),A.responseType="arraybuffer",A.overrideMimeType&&A.overrideMimeType("text/plain; charset=x-user-defined"),A.send(null),!(A.status>=200&&A.status<300||A.status===304))throw new Error("Couldn't load "+t+". Status: "+A.status);return A.response!==void 0?new Uint8Array(A.response||[]):mr(A.responseText||"",!0)},F=this;F.setDataGetter(b=>{var O=b*l,A=(b+1)*l-1;if(A=Math.min(A,E-1),typeof F.chunks[b]>"u"&&(F.chunks[b]=m(O,A)),typeof F.chunks[b]>"u")throw new Error("doXHR failed!");return F.chunks[b]}),(N||!E)&&(l=E=1,E=this.getter(0).length,l=E,ar("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=E,this._chunkSize=l,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:s}}else var u={isDevice:!1,url:t};var c=n.createFile(r,e,u,o,i);u.contents?c.contents=u.contents:u.url&&(c.contents=null,c.url=u.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var v={},g=Object.keys(c.stream_ops);g.forEach(h=>{var d=c.stream_ops[h];v[h]=function(){return n.forceLoadFile(c),d.apply(null,arguments)}});function _(h,d,E,R,B){var N=h.node.contents;if(B>=N.length)return 0;var l=Math.min(N.length-B,R);if(N.slice)for(var m=0;m<l;m++)d[E+m]=N[B+m];else for(var m=0;m<l;m++)d[E+m]=N.get(B+m);return l}return v.read=(h,d,E,R,B)=>(n.forceLoadFile(c),_(h,d,E,R,B)),v.mmap=(h,d,E,R,B)=>{n.forceLoadFile(c);var N=Ir(d);if(!N)throw new n.ErrnoError(48);return _(h,T,N,d,E),{ptr:N,allocated:!0}},c.stream_ops=v,c},createPreloadedFile:(r,e,t,o,i,a,s,u,c,v)=>{var g=e?z.resolve(k.join2(r,e)):r,_="cp "+g;function h(d){function E(R){v&&v(),u||n.createDataFile(r,e,R,o,i,c),a&&a(),fr(_)}Browser.handledByPreloadPlugin(d,g,E,()=>{s&&s(),fr(_)})||E(d)}Ar(_),typeof t=="string"?Me(t,d=>h(d),s):h(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,e=()=>{},t=()=>{})=>{var o=n.indexedDB();try{var i=o.open(n.DB_NAME(),n.DB_VERSION)}catch(a){return t(a)}i.onupgradeneeded=()=>{ar("creating db");var a=i.result;a.createObjectStore(n.DB_STORE_NAME)},i.onsuccess=()=>{var a=i.result,s=a.transaction([n.DB_STORE_NAME],"readwrite"),u=s.objectStore(n.DB_STORE_NAME),c=0,v=0,g=r.length;function _(){v==0?e():t()}r.forEach(h=>{var d=u.put(n.analyzePath(h).object.contents,h);d.onsuccess=()=>{c++,c+v==g&&_()},d.onerror=()=>{v++,c+v==g&&_()}}),s.onerror=t},i.onerror=t},loadFilesFromDB:(r,e=()=>{},t=()=>{})=>{var o=n.indexedDB();try{var i=o.open(n.DB_NAME(),n.DB_VERSION)}catch(a){return t(a)}i.onupgradeneeded=t,i.onsuccess=()=>{var a=i.result;try{var s=a.transaction([n.DB_STORE_NAME],"readonly")}catch(h){t(h);return}var u=s.objectStore(n.DB_STORE_NAME),c=0,v=0,g=r.length;function _(){v==0?e():t()}r.forEach(h=>{var d=u.get(h);d.onsuccess=()=>{n.analyzePath(h).exists&&n.unlink(h),n.createDataFile(k.dirname(h),k.basename(h),d.result,!0,!0,!0),c++,c+v==g&&_()},d.onerror=()=>{v++,c+v==g&&_()}}),s.onerror=t},i.onerror=t}},S={DEFAULT_POLLMASK:5,calculateAt:function(r,e,t){if(k.isAbs(e))return e;var o;if(r===-100)o=n.cwd();else{var i=S.getStreamFromFD(r);o=i.path}if(e.length==0){if(!t)throw new n.ErrnoError(44);return o}return k.join2(o,e)},doStat:function(r,e,t){try{var o=r(e)}catch(u){if(u&&u.node&&k.normalize(e)!==k.normalize(n.getPath(u.node)))return-54;throw u}p[t>>2]=o.dev,p[t+8>>2]=o.ino,p[t+12>>2]=o.mode,D[t+16>>2]=o.nlink,p[t+20>>2]=o.uid,p[t+24>>2]=o.gid,p[t+28>>2]=o.rdev,M=[o.size>>>0,(y=o.size,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+40>>2]=M[0],p[t+44>>2]=M[1],p[t+48>>2]=4096,p[t+52>>2]=o.blocks;var i=o.atime.getTime(),a=o.mtime.getTime(),s=o.ctime.getTime();return M=[Math.floor(i/1e3)>>>0,(y=Math.floor(i/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+56>>2]=M[0],p[t+60>>2]=M[1],D[t+64>>2]=i%1e3*1e3,M=[Math.floor(a/1e3)>>>0,(y=Math.floor(a/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+72>>2]=M[0],p[t+76>>2]=M[1],D[t+80>>2]=a%1e3*1e3,M=[Math.floor(s/1e3)>>>0,(y=Math.floor(s/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+88>>2]=M[0],p[t+92>>2]=M[1],D[t+96>>2]=s%1e3*1e3,M=[o.ino>>>0,(y=o.ino,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+104>>2]=M[0],p[t+108>>2]=M[1],0},doMsync:function(r,e,t,o,i){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);if(o&2)return 0;var a=$.slice(r,r+t);n.msync(e,a,i,t,o)},varargs:void 0,get:function(){S.varargs+=4;var r=p[S.varargs-4>>2];return r},getStr:function(r){var e=q(r);return e},getStreamFromFD:function(r){var e=n.getStream(r);if(!e)throw new n.ErrnoError(8);return e}};function Fe(r,e,t){S.varargs=t;try{var o=S.getStreamFromFD(r);switch(e){case 0:{var i=S.get();if(i<0)return-28;var a;return a=n.createStream(o,i),a.fd}case 1:case 2:return 0;case 3:return o.flags;case 4:{var i=S.get();return o.flags|=i,0}case 5:{var i=S.get(),s=0;return Tr[i+s>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Se(28),-1;default:return-28}}catch(u){if(typeof n>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Pe(r,e,t){S.varargs=t;try{var o=S.getStreamFromFD(r);switch(e){case 21509:case 21505:return o.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return o.tty?0:-59;case 21519:{if(!o.tty)return-59;var i=S.get();return p[i>>2]=0,0}case 21520:return o.tty?-28:-59;case 21531:{var i=S.get();return n.ioctl(o,e,i)}case 21523:return o.tty?0:-59;case 21524:return o.tty?0:-59;default:return-28}}catch(a){if(typeof n>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Re(r,e,t,o){S.varargs=o;try{e=S.getStr(e),e=S.calculateAt(r,e);var i=o?S.get():0;return n.open(e,t,i).fd}catch(a){if(typeof n>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Te(){U("")}function Ne(r,e,t){$.copyWithin(r,e,e+t)}function xe(){return 2147483648}function Be(r){var e=sr.buffer;try{return sr.grow(r-e.byteLength+65535>>>16),Nr(),1}catch{}}function Oe(r){var e=$.length;r=r>>>0;var t=xe();if(r>t)return!1;let o=(c,v)=>c+(v-c%v)%v;for(var i=1;i<=4;i*=2){var a=e*(1+.2/i);a=Math.min(a,r+100663296);var s=Math.min(t,o(Math.max(r,a),65536)),u=Be(s);if(u)return!0}return!1}var Mr={};function Le(){return er||"./this.program"}function Z(){if(!Z.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Le()};for(var t in Mr)Mr[t]===void 0?delete e[t]:e[t]=Mr[t];var o=[];for(var t in e)o.push(t+"="+e[t]);Z.strings=o}return Z.strings}function ze(r,e,t){for(var o=0;o<r.length;++o)T[e++>>0]=r.charCodeAt(o);t||(T[e>>0]=0)}function Ue(r,e){var t=0;return Z().forEach(function(o,i){var a=e+t;D[r+i*4>>2]=a,ze(o,a),t+=o.length+1}),0}function Ce(r,e){var t=Z();D[r>>2]=t.length;var o=0;return t.forEach(function(i){o+=i.length+1}),D[e>>2]=o,0}function Ie(r){try{var e=S.getStreamFromFD(r);return n.close(e),0}catch(t){if(typeof n>"u"||t.name!=="ErrnoError")throw t;return t.errno}}function He(r,e,t,o){for(var i=0,a=0;a<t;a++){var s=D[e>>2],u=D[e+4>>2];e+=8;var c=n.read(r,T,s,u,o);if(c<0)return-1;if(i+=c,c<u)break;typeof o<"u"&&(o+=c)}return i}function je(r,e,t,o){try{var i=S.getStreamFromFD(r),a=He(i,e,t);return D[o>>2]=a,0}catch(s){if(typeof n>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function Ye(r,e){return e+2097152>>>0<4194305-!!r?(r>>>0)+e*4294967296:NaN}function We(r,e,t,o,i){try{var a=Ye(e,t);if(isNaN(a))return 61;var s=S.getStreamFromFD(r);return n.llseek(s,a,o),M=[s.position>>>0,(y=s.position,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[i>>2]=M[0],p[i+4>>2]=M[1],s.getdents&&a===0&&o===0&&(s.getdents=null),0}catch(u){if(typeof n>"u"||u.name!=="ErrnoError")throw u;return u.errno}}function Xe(r,e,t,o){for(var i=0,a=0;a<t;a++){var s=D[e>>2],u=D[e+4>>2];e+=8;var c=n.write(r,T,s,u,o);if(c<0)return-1;i+=c,typeof o<"u"&&(o+=c)}return i}function Ve(r,e,t,o){try{var i=S.getStreamFromFD(r),a=Xe(i,e,t);return D[o>>2]=a,0}catch(s){if(typeof n>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function hr(r){return r%4===0&&(r%100!==0||r%400===0)}function qe(r,e){for(var t=0,o=0;o<=e;t+=r[o++]);return t}var Hr=[31,29,31,30,31,30,31,31,30,31,30,31],jr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ge(r,e){for(var t=new Date(r.getTime());e>0;){var o=hr(t.getFullYear()),i=t.getMonth(),a=(o?Hr:jr)[i];if(e>a-t.getDate())e-=a-t.getDate()+1,t.setDate(1),i<11?t.setMonth(i+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+e),t}return t}function Ke(r,e){T.set(r,e)}function Je(r,e,t,o){var i=p[o+40>>2],a={tm_sec:p[o>>2],tm_min:p[o+4>>2],tm_hour:p[o+8>>2],tm_mday:p[o+12>>2],tm_mon:p[o+16>>2],tm_year:p[o+20>>2],tm_wday:p[o+24>>2],tm_yday:p[o+28>>2],tm_isdst:p[o+32>>2],tm_gmtoff:p[o+36>>2],tm_zone:i?q(i):""},s=q(t),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in u)s=s.replace(new RegExp(c,"g"),u[c]);var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];function _(l,m,F){for(var b=typeof l=="number"?l.toString():l||"";b.length<m;)b=F[0]+b;return b}function h(l,m){return _(l,m,"0")}function d(l,m){function F(O){return O<0?-1:O>0?1:0}var b;return(b=F(l.getFullYear()-m.getFullYear()))===0&&(b=F(l.getMonth()-m.getMonth()))===0&&(b=F(l.getDate()-m.getDate())),b}function E(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function R(l){var m=Ge(new Date(l.tm_year+1900,0,1),l.tm_yday),F=new Date(m.getFullYear(),0,4),b=new Date(m.getFullYear()+1,0,4),O=E(F),A=E(b);return d(O,m)<=0?d(A,m)<=0?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}var B={"%a":function(l){return v[l.tm_wday].substring(0,3)},"%A":function(l){return v[l.tm_wday]},"%b":function(l){return g[l.tm_mon].substring(0,3)},"%B":function(l){return g[l.tm_mon]},"%C":function(l){var m=l.tm_year+1900;return h(m/100|0,2)},"%d":function(l){return h(l.tm_mday,2)},"%e":function(l){return _(l.tm_mday,2," ")},"%g":function(l){return R(l).toString().substring(2)},"%G":function(l){return R(l)},"%H":function(l){return h(l.tm_hour,2)},"%I":function(l){var m=l.tm_hour;return m==0?m=12:m>12&&(m-=12),h(m,2)},"%j":function(l){return h(l.tm_mday+qe(hr(l.tm_year+1900)?Hr:jr,l.tm_mon-1),3)},"%m":function(l){return h(l.tm_mon+1,2)},"%M":function(l){return h(l.tm_min,2)},"%n":function(){return`
`},"%p":function(l){return l.tm_hour>=0&&l.tm_hour<12?"AM":"PM"},"%S":function(l){return h(l.tm_sec,2)},"%t":function(){return"	"},"%u":function(l){return l.tm_wday||7},"%U":function(l){var m=l.tm_yday+7-l.tm_wday;return h(Math.floor(m/7),2)},"%V":function(l){var m=Math.floor((l.tm_yday+7-(l.tm_wday+6)%7)/7);if((l.tm_wday+371-l.tm_yday-2)%7<=2&&m++,m){if(m==53){var b=(l.tm_wday+371-l.tm_yday)%7;b!=4&&(b!=3||!hr(l.tm_year))&&(m=1)}}else{m=52;var F=(l.tm_wday+7-l.tm_yday-1)%7;(F==4||F==5&&hr(l.tm_year%400-1))&&m++}return h(m,2)},"%w":function(l){return l.tm_wday},"%W":function(l){var m=l.tm_yday+7-(l.tm_wday+6)%7;return h(Math.floor(m/7),2)},"%y":function(l){return(l.tm_year+1900).toString().substring(2)},"%Y":function(l){return l.tm_year+1900},"%z":function(l){var m=l.tm_gmtoff,F=m>=0;return m=Math.abs(m)/60,m=m/60*100+m%60,(F?"+":"-")+String("0000"+m).slice(-4)},"%Z":function(l){return l.tm_zone},"%%":function(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var c in B)s.includes(c)&&(s=s.replace(new RegExp(c,"g"),B[c](a)));s=s.replace(/\0\0/g,"%");var N=mr(s,!1);return N.length>e?0:(Ke(N,r),N.length-1)}function $e(r,e,t,o,i){return Je(r,e,t,o)}function Qe(r){ur=r,Lr()||(f.onExit&&f.onExit(r),kr=!0),tr(r,new cr(r))}function Ze(r,e){ur=r,Qe(r)}function rt(r){if(r instanceof cr||r=="unwind")return ur;tr(1,r)}function et(r){var e=Dr(r)+1,t=Fr(e);return br(r,T,t,e),t}var Yr=function(r,e,t,o){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=n.nextInode++,this.name=e,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=o},vr=365,pr=146;Object.defineProperties(Yr.prototype,{read:{get:function(){return(this.mode&vr)===vr},set:function(r){r?this.mode|=vr:this.mode&=~vr}},write:{get:function(){return(this.mode&pr)===pr},set:function(r){r?this.mode|=pr:this.mode&=~pr}},isFolder:{get:function(){return n.isDir(this.mode)}},isDevice:{get:function(){return n.isChrdev(this.mode)}}}),n.FSNode=Yr,n.staticInit();var tt={b:Ee,a:De,d:Fe,h:Pe,j:Re,e:Te,k:Ne,i:Oe,n:Ue,o:Ce,f:Ie,g:je,l:We,c:Ve,m:$e},ut=ge(),nt=function(){return(nt=f.asm.q).apply(null,arguments)},Wr=f._main=function(){return(Wr=f._main=f.asm.s).apply(null,arguments)},Xr=function(){return(Xr=f.asm.t).apply(null,arguments)},Fr=function(){return(Fr=f.asm.u).apply(null,arguments)},Vr=function(){return(Vr=f.asm.v).apply(null,arguments)};f.callMain=qr,f.FS=n;var wr;Q=function r(){wr||Gr(),wr||(Q=r)};function qr(r=[]){var e=Wr;r.unshift(er);var t=r.length,o=Fr((t+1)*4),i=o>>2;r.forEach(s=>{p[i++]=et(s)}),p[i]=0;try{var a=e(t,o);return Ze(a,!0),a}catch(s){return rt(s)}}function Gr(r=gr){if(I>0||(fe(),I>0))return;function e(){wr||(wr=!0,f.calledRun=!0,!kr&&(le(),ce(),Y(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),Kr&&qr(r),de()))}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e()}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();var Kr=!1;return f.noInitialRun&&(Kr=!1),Gr(),P.ready}})(),Jr=ot;var yr=class{#r;#e;constructor(P,f){this.#r=P,this.#e=f}run(P,f,Y){return this.#r.FS.writeFile("/dictionary",P),this.#r.FS.writeFile("/source",f),this.#r.FS.writeFile("/target",Y),this.#r.callMain(["dictionary","source","target"]),it(this.#e)}static async create(P){let f=[];function Y(rr){f.push(rr)}let W=await Jr({print:Y,wasmBinary:P});return new yr(W,f)}};function it(j){return j.map(P=>at(P))}function at(j){let P=j.split("	");if(P.length!==3)throw`could not convert ${P} to rung`;return[parseInt(P[0]),parseInt(P[1]),Number.parseFloat(P[2])]}export{yr as Hunalign};
