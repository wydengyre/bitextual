var et=(()=>{var j=import.meta.url;return async function(A){A=A||{};var f=typeof A<"u"?A:{},Y,W;f.ready=new Promise(function(r,e){Y=r,W=e});var rr=Object.assign({},f),yr=[],er="./this.program",tr=(r,e)=>{throw e},Fr=typeof window=="object",X=typeof importScripts=="function",nr=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="";function Kr(r){return f.locateFile?f.locateFile(r,O):O+r}var V,K,or,Jr;function $r(r){if(r instanceof cr)return;z("exiting due to exception: "+r)}if(nr){let{createRequire:r}=await import("module");var ir=r(import.meta.url),_r=ir("fs"),gr=ir("path");X?O=gr.dirname(O)+"/":O=ir("url").fileURLToPath(new URL("./",import.meta.url)),V=(e,t)=>(e=fr(e)?new URL(e):gr.normalize(e),_r.readFileSync(e,t?void 0:"utf8")),or=e=>{var t=V(e,!0);return t.buffer||(t=new Uint8Array(t)),t},K=(e,t,o)=>{e=fr(e)?new URL(e):gr.normalize(e),_r.readFile(e,function(i,a){i?o(i):t(a.buffer)})},process.argv.length>1&&(er=process.argv[1].replace(/\\/g,"/")),yr=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof cr))throw e}),process.on("unhandledRejection",function(e){throw e}),tr=(e,t)=>{if(Lr())throw process.exitCode=e,t;$r(t),process.exit(e)},f.inspect=function(){return"[Emscripten Module object]"}}else(Fr||X)&&(X?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),j&&(O=j),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",V=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(null),e.responseText},X&&(or=r=>{var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),K=(r,e,t)=>{var o=new XMLHttpRequest;o.open("GET",r,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){e(o.response);return}t()},o.onerror=t,o.send(null)},Jr=r=>document.title=r);var ar=f.print||console.log.bind(console),z=f.printErr||console.warn.bind(console);Object.assign(f,rr),rr=null,f.arguments&&(yr=f.arguments),f.thisProgram&&(er=f.thisProgram),f.quit&&(tr=f.quit);var J;f.wasmBinary&&(J=f.wasmBinary);var Qr=f.noExitRuntime||!0;typeof WebAssembly!="object"&&U("no native wasm support detected");var Pr,Er=!1,sr;function Zr(r,e){r||U(e)}var Rr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function q(r,e,t){for(var o=e+t,i=e;r[i]&&!(i>=o);)++i;if(i-e>16&&r.buffer&&Rr)return Rr.decode(r.subarray(e,i));for(var a="";e<i;){var s=r[e++];if(!(s&128)){a+=String.fromCharCode(s);continue}var u=r[e++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|u);continue}var l=r[e++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|l:s=(s&7)<<18|u<<12|l<<6|r[e++]&63,s<65536)a+=String.fromCharCode(s);else{var v=s-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return a}function G(r,e){return r?q($,r,e):""}function kr(r,e,t,o){if(!(o>0))return 0;for(var i=t,a=t+o-1,s=0;s<r.length;++s){var u=r.charCodeAt(s);if(u>=55296&&u<=57343){var l=r.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(u<=127){if(t>=a)break;e[t++]=u}else if(u<=2047){if(t+1>=a)break;e[t++]=192|u>>6,e[t++]=128|u&63}else if(u<=65535){if(t+2>=a)break;e[t++]=224|u>>12,e[t++]=128|u>>6&63,e[t++]=128|u&63}else{if(t+3>=a)break;e[t++]=240|u>>18,e[t++]=128|u>>12&63,e[t++]=128|u>>6&63,e[t++]=128|u&63}}return e[t]=0,t-i}function br(r){for(var e=0,t=0;t<r.length;++t){var o=r.charCodeAt(t);o<=127?e++:o<=2047?e+=2:o>=55296&&o<=57343?(e+=4,++t):e+=3}return e}var Tr,B,$,Nr,re,p,D,ee,te;function ne(r){Tr=r,f.HEAP8=B=new Int8Array(r),f.HEAP16=Nr=new Int16Array(r),f.HEAP32=p=new Int32Array(r),f.HEAPU8=$=new Uint8Array(r),f.HEAPU16=re=new Uint16Array(r),f.HEAPU32=D=new Uint32Array(r),f.HEAPF32=ee=new Float32Array(r),f.HEAPF64=te=new Float64Array(r)}var ot=f.INITIAL_MEMORY||16777216,oe,Or=[],Br=[],ie=[],xr=[],ae=!1;function Lr(){return Qr}function se(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)le(f.preRun.shift());lr(Or)}function ue(){ae=!0,!f.noFSInit&&!n.init.initialized&&n.init(),n.ignorePermissions=!1,I.init(),lr(Br)}function fe(){lr(ie)}function ce(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)me(f.postRun.shift());lr(xr)}function le(r){Or.unshift(r)}function de(r){Br.unshift(r)}function me(r){xr.unshift(r)}var H=0,Dr=null,Q=null;function it(r){return r}function Sr(r){H++,f.monitorRunDependencies&&f.monitorRunDependencies(H)}function ur(r){if(H--,f.monitorRunDependencies&&f.monitorRunDependencies(H),H==0&&(Dr!==null&&(clearInterval(Dr),Dr=null),Q)){var e=Q;Q=null,e()}}function U(r){f.onAbort&&f.onAbort(r),r="Aborted("+r+")",z(r),Er=!0,sr=1,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw W(e),e}var he="data:application/octet-stream;base64,";function zr(r){return r.startsWith(he)}function fr(r){return r.startsWith("file://")}var T;f.locateFile?(T="hunalign.wasm",zr(T)||(T=Kr(T))):T=new URL("hunalign.wasm",import.meta.url).href;function Ur(r){try{if(r==T&&J)return new Uint8Array(J);if(or)return or(r);throw"both async and sync fetching of the wasm failed"}catch(e){U(e)}}function ve(){if(!J&&(Fr||X)){if(typeof fetch=="function"&&!fr(T))return fetch(T,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+T+"'";return r.arrayBuffer()}).catch(function(){return Ur(T)});if(K)return new Promise(function(r,e){K(T,function(t){r(new Uint8Array(t))},e)})}return Promise.resolve().then(function(){return Ur(T)})}function pe(){var r={a:Qe};function e(s,u){var l=s.exports;f.asm=l,Pr=f.asm.p,ne(Pr.buffer),oe=f.asm.r,de(f.asm.q),ur("wasm-instantiate")}Sr("wasm-instantiate");function t(s){e(s.instance)}function o(s){return ve().then(function(u){return WebAssembly.instantiate(u,r)}).then(function(u){return u}).then(s,function(u){z("failed to asynchronously prepare wasm: "+u),U(u)})}function i(){return!J&&typeof WebAssembly.instantiateStreaming=="function"&&!zr(T)&&!fr(T)&&!nr&&typeof fetch=="function"?fetch(T,{credentials:"same-origin"}).then(function(s){var u=WebAssembly.instantiateStreaming(s,r);return u.then(t,function(l){return z("wasm streaming compile failed: "+l),z("falling back to ArrayBuffer instantiation"),o(t)})}):o(t)}if(f.instantiateWasm)try{var a=f.instantiateWasm(r,e);return a}catch(s){z("Module.instantiateWasm callback failed with error: "+s),W(s)}return i().catch(W),{}}var y,F;function cr(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function lr(r){for(;r.length>0;)r.shift()(f)}function we(r,e,t,o){U("Assertion failed: "+G(r)+", at: "+[e?G(e):"unknown filename",t,o?G(o):"unknown function"])}function ye(r){this.excPtr=r,this.ptr=r-24,this.set_type=function(e){D[this.ptr+4>>2]=e},this.get_type=function(){return D[this.ptr+4>>2]},this.set_destructor=function(e){D[this.ptr+8>>2]=e},this.get_destructor=function(){return D[this.ptr+8>>2]},this.set_refcount=function(e){p[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,B[this.ptr+12>>0]=e},this.get_caught=function(){return B[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,B[this.ptr+13>>0]=e},this.get_rethrown=function(){return B[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=p[this.ptr>>2];p[this.ptr>>2]=e+1},this.release_ref=function(){var e=p[this.ptr>>2];return p[this.ptr>>2]=e-1,e===1},this.set_adjusted_ptr=function(e){D[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return D[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=Wr(this.get_type());if(e)return D[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var _e=0,ge=0;function Ee(r,e,t){var o=new ye(r);throw o.init(e,t),_e=r,ge++,r}function ke(r){return p[Yr()>>2]=r,r}var k={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(r).slice(1)},normalizeArray:(r,e)=>{for(var t=0,o=r.length-1;o>=0;o--){var i=r[o];i==="."?r.splice(o,1):i===".."?(r.splice(o,1),t++):t&&(r.splice(o,1),t--)}if(e)for(;t;t--)r.unshift("..");return r},normalize:r=>{var e=k.isAbs(r),t=r.substr(-1)==="/";return r=k.normalizeArray(r.split("/").filter(o=>!!o),!e).join("/"),!r&&!e&&(r="."),r&&t&&(r+="/"),(e?"/":"")+r},dirname:r=>{var e=k.splitPath(r),t=e[0],o=e[1];return!t&&!o?".":(o&&(o=o.substr(0,o.length-1)),t+o)},basename:r=>{if(r==="/")return"/";r=k.normalize(r),r=r.replace(/\/$/,"");var e=r.lastIndexOf("/");return e===-1?r:r.substr(e+1)},join:function(){var r=Array.prototype.slice.call(arguments);return k.normalize(r.join("/"))},join2:(r,e)=>k.normalize(r+"/"+e)};function be(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return()=>(crypto.getRandomValues(r),r[0])}else if(nr)try{var e=ir("crypto");return()=>e.randomBytes(1)[0]}catch{}return()=>U("randomDevice")}var C={resolve:function(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var o=t>=0?arguments[t]:n.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";r=o+"/"+r,e=k.isAbs(o)}return r=k.normalizeArray(r.split("/").filter(i=>!!i),!e).join("/"),(e?"/":"")+r||"."},relative:(r,e)=>{r=C.resolve(r).substr(1),e=C.resolve(e).substr(1);function t(v){for(var _=0;_<v.length&&v[_]==="";_++);for(var E=v.length-1;E>=0&&v[E]==="";E--);return _>E?[]:v.slice(_,E-_+1)}for(var o=t(r.split("/")),i=t(e.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var l=[],u=s;u<o.length;u++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")}};function dr(r,e,t){var o=t>0?t:br(r)+1,i=new Array(o),a=kr(r,i,0,i.length);return e&&(i.length=a),i}var I={ttys:[],init:function(){},shutdown:function(){},register:function(r,e){I.ttys[r]={input:[],output:[],ops:e},n.registerDevice(r,I.stream_ops)},stream_ops:{open:function(r){var e=I.ttys[r.node.rdev];if(!e)throw new n.ErrnoError(43);r.tty=e,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,e,t,o,i){if(!r.tty||!r.tty.ops.get_char)throw new n.ErrnoError(60);for(var a=0,s=0;s<o;s++){var u;try{u=r.tty.ops.get_char(r.tty)}catch{throw new n.ErrnoError(29)}if(u===void 0&&a===0)throw new n.ErrnoError(6);if(u==null)break;a++,e[t+s]=u}return a&&(r.node.timestamp=Date.now()),a},write:function(r,e,t,o,i){if(!r.tty||!r.tty.ops.put_char)throw new n.ErrnoError(60);try{for(var a=0;a<o;a++)r.tty.ops.put_char(r.tty,e[t+a])}catch{throw new n.ErrnoError(29)}return o&&(r.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(r){if(!r.input.length){var e=null;if(nr){var t=256,o=Buffer.alloc(t),i=0;try{i=_r.readSync(process.stdin.fd,o,0,t,-1)}catch(a){if(a.toString().includes("EOF"))i=0;else throw a}i>0?e=o.slice(0,i).toString("utf-8"):e=null}else typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`));if(!e)return null;r.input=dr(e,!0)}return r.input.shift()},put_char:function(r,e){e===null||e===10?(ar(q(r.output,0)),r.output=[]):e!=0&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(ar(q(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,e){e===null||e===10?(z(q(r.output,0)),r.output=[]):e!=0&&r.output.push(e)},fsync:function(r){r.output&&r.output.length>0&&(z(q(r.output,0)),r.output=[])}}};function Cr(r){U()}var w={ops_table:null,mount:function(r){return w.createNode(null,"/",16895,0)},createNode:function(r,e,t,o){if(n.isBlkdev(t)||n.isFIFO(t))throw new n.ErrnoError(63);w.ops_table||(w.ops_table={dir:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,lookup:w.node_ops.lookup,mknod:w.node_ops.mknod,rename:w.node_ops.rename,unlink:w.node_ops.unlink,rmdir:w.node_ops.rmdir,readdir:w.node_ops.readdir,symlink:w.node_ops.symlink},stream:{llseek:w.stream_ops.llseek}},file:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:{llseek:w.stream_ops.llseek,read:w.stream_ops.read,write:w.stream_ops.write,allocate:w.stream_ops.allocate,mmap:w.stream_ops.mmap,msync:w.stream_ops.msync}},link:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr,readlink:w.node_ops.readlink},stream:{}},chrdev:{node:{getattr:w.node_ops.getattr,setattr:w.node_ops.setattr},stream:n.chrdev_stream_ops}});var i=n.createNode(r,e,t,o);return n.isDir(i.mode)?(i.node_ops=w.ops_table.dir.node,i.stream_ops=w.ops_table.dir.stream,i.contents={}):n.isFile(i.mode)?(i.node_ops=w.ops_table.file.node,i.stream_ops=w.ops_table.file.stream,i.usedBytes=0,i.contents=null):n.isLink(i.mode)?(i.node_ops=w.ops_table.link.node,i.stream_ops=w.ops_table.link.stream):n.isChrdev(i.mode)&&(i.node_ops=w.ops_table.chrdev.node,i.stream_ops=w.ops_table.chrdev.stream),i.timestamp=Date.now(),r&&(r.contents[e]=i,r.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,e){var t=r.contents?r.contents.length:0;if(!(t>=e)){var o=1024*1024;e=Math.max(e,t*(t<o?2:1.125)>>>0),t!=0&&(e=Math.max(e,256));var i=r.contents;r.contents=new Uint8Array(e),r.usedBytes>0&&r.contents.set(i.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,e){if(r.usedBytes!=e)if(e==0)r.contents=null,r.usedBytes=0;else{var t=r.contents;r.contents=new Uint8Array(e),t&&r.contents.set(t.subarray(0,Math.min(e,r.usedBytes))),r.usedBytes=e}},node_ops:{getattr:function(r){var e={};return e.dev=n.isChrdev(r.mode)?r.id:1,e.ino=r.id,e.mode=r.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=r.rdev,n.isDir(r.mode)?e.size=4096:n.isFile(r.mode)?e.size=r.usedBytes:n.isLink(r.mode)?e.size=r.link.length:e.size=0,e.atime=new Date(r.timestamp),e.mtime=new Date(r.timestamp),e.ctime=new Date(r.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(r,e){e.mode!==void 0&&(r.mode=e.mode),e.timestamp!==void 0&&(r.timestamp=e.timestamp),e.size!==void 0&&w.resizeFileStorage(r,e.size)},lookup:function(r,e){throw n.genericErrors[44]},mknod:function(r,e,t,o){return w.createNode(r,e,t,o)},rename:function(r,e,t){if(n.isDir(r.mode)){var o;try{o=n.lookupNode(e,t)}catch{}if(o)for(var i in o.contents)throw new n.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=t,e.contents[t]=r,e.timestamp=r.parent.timestamp,r.parent=e},unlink:function(r,e){delete r.contents[e],r.timestamp=Date.now()},rmdir:function(r,e){var t=n.lookupNode(r,e);for(var o in t.contents)throw new n.ErrnoError(55);delete r.contents[e],r.timestamp=Date.now()},readdir:function(r){var e=[".",".."];for(var t in r.contents)r.contents.hasOwnProperty(t)&&e.push(t);return e},symlink:function(r,e,t){var o=w.createNode(r,e,41471,0);return o.link=t,o},readlink:function(r){if(!n.isLink(r.mode))throw new n.ErrnoError(28);return r.link}},stream_ops:{read:function(r,e,t,o,i){var a=r.node.contents;if(i>=r.node.usedBytes)return 0;var s=Math.min(r.node.usedBytes-i,o);if(s>8&&a.subarray)e.set(a.subarray(i,i+s),t);else for(var u=0;u<s;u++)e[t+u]=a[i+u];return s},write:function(r,e,t,o,i,a){if(!o)return 0;var s=r.node;if(s.timestamp=Date.now(),e.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=e.subarray(t,t+o),s.usedBytes=o,o;if(s.usedBytes===0&&i===0)return s.contents=e.slice(t,t+o),s.usedBytes=o,o;if(i+o<=s.usedBytes)return s.contents.set(e.subarray(t,t+o),i),o}if(w.expandFileStorage(s,i+o),s.contents.subarray&&e.subarray)s.contents.set(e.subarray(t,t+o),i);else for(var u=0;u<o;u++)s.contents[i+u]=e[t+u];return s.usedBytes=Math.max(s.usedBytes,i+o),o},llseek:function(r,e,t){var o=e;if(t===1?o+=r.position:t===2&&n.isFile(r.node.mode)&&(o+=r.node.usedBytes),o<0)throw new n.ErrnoError(28);return o},allocate:function(r,e,t){w.expandFileStorage(r.node,e+t),r.node.usedBytes=Math.max(r.node.usedBytes,e+t)},mmap:function(r,e,t,o,i){if(!n.isFile(r.node.mode))throw new n.ErrnoError(43);var a,s,u=r.node.contents;if(!(i&2)&&u.buffer===Tr)s=!1,a=u.byteOffset;else{if((t>0||t+e<u.length)&&(u.subarray?u=u.subarray(t,t+e):u=Array.prototype.slice.call(u,t,t+e)),s=!0,a=Cr(e),!a)throw new n.ErrnoError(48);B.set(u,a)}return{ptr:a,allocated:s}},msync:function(r,e,t,o,i){return w.stream_ops.write(r,e,0,o,t,!1),0}}};function De(r,e,t,o){var i=o?"":"al "+r;K(r,a=>{Zr(a,'Loading data file "'+r+'" failed (no arrayBuffer).'),e(new Uint8Array(a)),i&&ur(i)},a=>{if(t)t();else throw'Loading data file "'+r+'" failed.'}),i&&Sr(i)}var n={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,e={})=>{if(r=C.resolve(r),!r)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(e=Object.assign(t,e),e.recurse_count>8)throw new n.ErrnoError(32);for(var o=r.split("/").filter(E=>!!E),i=n.root,a="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&e.parent)break;if(i=n.lookupNode(i,o[s]),a=k.join2(a,o[s]),n.isMountpoint(i)&&(!u||u&&e.follow_mount)&&(i=i.mounted.root),!u||e.follow)for(var l=0;n.isLink(i.mode);){var v=n.readlink(a);a=C.resolve(k.dirname(a),v);var _=n.lookupPath(a,{recurse_count:e.recurse_count+1});if(i=_.node,l++>40)throw new n.ErrnoError(32)}}return{path:a,node:i}},getPath:r=>{for(var e;;){if(n.isRoot(r)){var t=r.mount.mountpoint;return e?t[t.length-1]!=="/"?t+"/"+e:t+e:t}e=e?r.name+"/"+e:r.name,r=r.parent}},hashName:(r,e)=>{for(var t=0,o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o)|0;return(r+t>>>0)%n.nameTable.length},hashAddNode:r=>{var e=n.hashName(r.parent.id,r.name);r.name_next=n.nameTable[e],n.nameTable[e]=r},hashRemoveNode:r=>{var e=n.hashName(r.parent.id,r.name);if(n.nameTable[e]===r)n.nameTable[e]=r.name_next;else for(var t=n.nameTable[e];t;){if(t.name_next===r){t.name_next=r.name_next;break}t=t.name_next}},lookupNode:(r,e)=>{var t=n.mayLookup(r);if(t)throw new n.ErrnoError(t,r);for(var o=n.hashName(r.id,e),i=n.nameTable[o];i;i=i.name_next){var a=i.name;if(i.parent.id===r.id&&a===e)return i}return n.lookup(r,e)},createNode:(r,e,t,o)=>{var i=new n.FSNode(r,e,t,o);return n.hashAddNode(i),i},destroyNode:r=>{n.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var e=n.flagModes[r];if(typeof e>"u")throw new Error("Unknown file open mode: "+r);return e},flagsToPermissionString:r=>{var e=["r","w","rw"][r&3];return r&512&&(e+="w"),e},nodePermissions:(r,e)=>n.ignorePermissions?0:e.includes("r")&&!(r.mode&292)||e.includes("w")&&!(r.mode&146)||e.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var e=n.nodePermissions(r,"x");return e||(r.node_ops.lookup?0:2)},mayCreate:(r,e)=>{try{var t=n.lookupNode(r,e);return 20}catch{}return n.nodePermissions(r,"wx")},mayDelete:(r,e,t)=>{var o;try{o=n.lookupNode(r,e)}catch(a){return a.errno}var i=n.nodePermissions(r,"wx");if(i)return i;if(t){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.getPath(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},mayOpen:(r,e)=>r?n.isLink(r.mode)?32:n.isDir(r.mode)&&(n.flagsToPermissionString(e)!=="r"||e&512)?31:n.nodePermissions(r,n.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,e=n.MAX_OPEN_FDS)=>{for(var t=r;t<=e;t++)if(!n.streams[t])return t;throw new n.ErrnoError(33)},getStream:r=>n.streams[r],createStream:(r,e,t)=>{n.FSStream||(n.FSStream=function(){this.shared={}},n.FSStream.prototype={},Object.defineProperties(n.FSStream.prototype,{object:{get:function(){return this.node},set:function(i){this.node=i}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(i){this.shared.flags=i}},position:{get:function(){return this.shared.position},set:function(i){this.shared.position=i}}})),r=Object.assign(new n.FSStream,r);var o=n.nextfd(e,t);return r.fd=o,n.streams[o]=r,r},closeStream:r=>{n.streams[r]=null},chrdev_stream_ops:{open:r=>{var e=n.getDevice(r.node.rdev);r.stream_ops=e.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new n.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,e)=>r<<8|e,registerDevice:(r,e)=>{n.devices[r]={stream_ops:e}},getDevice:r=>n.devices[r],getMounts:r=>{for(var e=[],t=[r];t.length;){var o=t.pop();e.push(o),t.push.apply(t,o.mounts)}return e},syncfs:(r,e)=>{typeof r=="function"&&(e=r,r=!1),n.syncFSRequests++,n.syncFSRequests>1&&z("warning: "+n.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=n.getMounts(n.root.mount),o=0;function i(s){return n.syncFSRequests--,e(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,i(s));++o>=t.length&&i(null)}t.forEach(s=>{if(!s.type.syncfs)return a(null);s.type.syncfs(s,r,a)})},mount:(r,e,t)=>{var o=t==="/",i=!t,a;if(o&&n.root)throw new n.ErrnoError(10);if(!o&&!i){var s=n.lookupPath(t,{follow_mount:!1});if(t=s.path,a=s.node,n.isMountpoint(a))throw new n.ErrnoError(10);if(!n.isDir(a.mode))throw new n.ErrnoError(54)}var u={type:r,opts:e,mountpoint:t,mounts:[]},l=r.mount(u);return l.mount=u,u.root=l,o?n.root=l:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),l},unmount:r=>{var e=n.lookupPath(r,{follow_mount:!1});if(!n.isMountpoint(e.node))throw new n.ErrnoError(28);var t=e.node,o=t.mounted,i=n.getMounts(o);Object.keys(n.nameTable).forEach(s=>{for(var u=n.nameTable[s];u;){var l=u.name_next;i.includes(u.mount)&&n.destroyNode(u),u=l}}),t.mounted=null;var a=t.mount.mounts.indexOf(o);t.mount.mounts.splice(a,1)},lookup:(r,e)=>r.node_ops.lookup(r,e),mknod:(r,e,t)=>{var o=n.lookupPath(r,{parent:!0}),i=o.node,a=k.basename(r);if(!a||a==="."||a==="..")throw new n.ErrnoError(28);var s=n.mayCreate(i,a);if(s)throw new n.ErrnoError(s);if(!i.node_ops.mknod)throw new n.ErrnoError(63);return i.node_ops.mknod(i,a,e,t)},create:(r,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,n.mknod(r,e,0)),mkdir:(r,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,n.mknod(r,e,0)),mkdirTree:(r,e)=>{for(var t=r.split("/"),o="",i=0;i<t.length;++i)if(t[i]){o+="/"+t[i];try{n.mkdir(o,e)}catch(a){if(a.errno!=20)throw a}}},mkdev:(r,e,t)=>(typeof t>"u"&&(t=e,e=438),e|=8192,n.mknod(r,e,t)),symlink:(r,e)=>{if(!C.resolve(r))throw new n.ErrnoError(44);var t=n.lookupPath(e,{parent:!0}),o=t.node;if(!o)throw new n.ErrnoError(44);var i=k.basename(e),a=n.mayCreate(o,i);if(a)throw new n.ErrnoError(a);if(!o.node_ops.symlink)throw new n.ErrnoError(63);return o.node_ops.symlink(o,i,r)},rename:(r,e)=>{var t=k.dirname(r),o=k.dirname(e),i=k.basename(r),a=k.basename(e),s,u,l;if(s=n.lookupPath(r,{parent:!0}),u=s.node,s=n.lookupPath(e,{parent:!0}),l=s.node,!u||!l)throw new n.ErrnoError(44);if(u.mount!==l.mount)throw new n.ErrnoError(75);var v=n.lookupNode(u,i),_=C.relative(r,o);if(_.charAt(0)!==".")throw new n.ErrnoError(28);if(_=C.relative(e,t),_.charAt(0)!==".")throw new n.ErrnoError(55);var E;try{E=n.lookupNode(l,a)}catch{}if(v!==E){var h=n.isDir(v.mode),d=n.mayDelete(u,i,h);if(d)throw new n.ErrnoError(d);if(d=E?n.mayDelete(l,a,h):n.mayCreate(l,a),d)throw new n.ErrnoError(d);if(!u.node_ops.rename)throw new n.ErrnoError(63);if(n.isMountpoint(v)||E&&n.isMountpoint(E))throw new n.ErrnoError(10);if(l!==u&&(d=n.nodePermissions(u,"w"),d))throw new n.ErrnoError(d);n.hashRemoveNode(v);try{u.node_ops.rename(v,l,a)}catch(g){throw g}finally{n.hashAddNode(v)}}},rmdir:r=>{var e=n.lookupPath(r,{parent:!0}),t=e.node,o=k.basename(r),i=n.lookupNode(t,o),a=n.mayDelete(t,o,!0);if(a)throw new n.ErrnoError(a);if(!t.node_ops.rmdir)throw new n.ErrnoError(63);if(n.isMountpoint(i))throw new n.ErrnoError(10);t.node_ops.rmdir(t,o),n.destroyNode(i)},readdir:r=>{var e=n.lookupPath(r,{follow:!0}),t=e.node;if(!t.node_ops.readdir)throw new n.ErrnoError(54);return t.node_ops.readdir(t)},unlink:r=>{var e=n.lookupPath(r,{parent:!0}),t=e.node;if(!t)throw new n.ErrnoError(44);var o=k.basename(r),i=n.lookupNode(t,o),a=n.mayDelete(t,o,!1);if(a)throw new n.ErrnoError(a);if(!t.node_ops.unlink)throw new n.ErrnoError(63);if(n.isMountpoint(i))throw new n.ErrnoError(10);t.node_ops.unlink(t,o),n.destroyNode(i)},readlink:r=>{var e=n.lookupPath(r),t=e.node;if(!t)throw new n.ErrnoError(44);if(!t.node_ops.readlink)throw new n.ErrnoError(28);return C.resolve(n.getPath(t.parent),t.node_ops.readlink(t))},stat:(r,e)=>{var t=n.lookupPath(r,{follow:!e}),o=t.node;if(!o)throw new n.ErrnoError(44);if(!o.node_ops.getattr)throw new n.ErrnoError(63);return o.node_ops.getattr(o)},lstat:r=>n.stat(r,!0),chmod:(r,e,t)=>{var o;if(typeof r=="string"){var i=n.lookupPath(r,{follow:!t});o=i.node}else o=r;if(!o.node_ops.setattr)throw new n.ErrnoError(63);o.node_ops.setattr(o,{mode:e&4095|o.mode&-4096,timestamp:Date.now()})},lchmod:(r,e)=>{n.chmod(r,e,!0)},fchmod:(r,e)=>{var t=n.getStream(r);if(!t)throw new n.ErrnoError(8);n.chmod(t.node,e)},chown:(r,e,t,o)=>{var i;if(typeof r=="string"){var a=n.lookupPath(r,{follow:!o});i=a.node}else i=r;if(!i.node_ops.setattr)throw new n.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(r,e,t)=>{n.chown(r,e,t,!0)},fchown:(r,e,t)=>{var o=n.getStream(r);if(!o)throw new n.ErrnoError(8);n.chown(o.node,e,t)},truncate:(r,e)=>{if(e<0)throw new n.ErrnoError(28);var t;if(typeof r=="string"){var o=n.lookupPath(r,{follow:!0});t=o.node}else t=r;if(!t.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(t.mode))throw new n.ErrnoError(31);if(!n.isFile(t.mode))throw new n.ErrnoError(28);var i=n.nodePermissions(t,"w");if(i)throw new n.ErrnoError(i);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},ftruncate:(r,e)=>{var t=n.getStream(r);if(!t)throw new n.ErrnoError(8);if(!(t.flags&2097155))throw new n.ErrnoError(28);n.truncate(t.node,e)},utime:(r,e,t)=>{var o=n.lookupPath(r,{follow:!0}),i=o.node;i.node_ops.setattr(i,{timestamp:Math.max(e,t)})},open:(r,e,t)=>{if(r==="")throw new n.ErrnoError(44);e=typeof e=="string"?n.modeStringToFlags(e):e,t=typeof t>"u"?438:t,e&64?t=t&4095|32768:t=0;var o;if(typeof r=="object")o=r;else{r=k.normalize(r);try{var i=n.lookupPath(r,{follow:!(e&131072)});o=i.node}catch{}}var a=!1;if(e&64)if(o){if(e&128)throw new n.ErrnoError(20)}else o=n.mknod(r,t,0),a=!0;if(!o)throw new n.ErrnoError(44);if(n.isChrdev(o.mode)&&(e&=-513),e&65536&&!n.isDir(o.mode))throw new n.ErrnoError(54);if(!a){var s=n.mayOpen(o,e);if(s)throw new n.ErrnoError(s)}e&512&&!a&&n.truncate(o,0),e&=-131713;var u=n.createStream({node:o,path:n.getPath(o),flags:e,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),f.logReadFiles&&!(e&1)&&(n.readFiles||(n.readFiles={}),r in n.readFiles||(n.readFiles[r]=1)),u},close:r=>{if(n.isClosed(r))throw new n.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(e){throw e}finally{n.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,e,t)=>{if(n.isClosed(r))throw new n.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new n.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new n.ErrnoError(28);return r.position=r.stream_ops.llseek(r,e,t),r.ungotten=[],r.position},read:(r,e,t,o,i)=>{if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if((r.flags&2097155)===1)throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.read)throw new n.ErrnoError(28);var a=typeof i<"u";if(!a)i=r.position;else if(!r.seekable)throw new n.ErrnoError(70);var s=r.stream_ops.read(r,e,t,o,i);return a||(r.position+=s),s},write:(r,e,t,o,i,a)=>{if(o<0||i<0)throw new n.ErrnoError(28);if(n.isClosed(r))throw new n.ErrnoError(8);if(!(r.flags&2097155))throw new n.ErrnoError(8);if(n.isDir(r.node.mode))throw new n.ErrnoError(31);if(!r.stream_ops.write)throw new n.ErrnoError(28);r.seekable&&r.flags&1024&&n.llseek(r,0,2);var s=typeof i<"u";if(!s)i=r.position;else if(!r.seekable)throw new n.ErrnoError(70);var u=r.stream_ops.write(r,e,t,o,i,a);return s||(r.position+=u),u},allocate:(r,e,t)=>{if(n.isClosed(r))throw new n.ErrnoError(8);if(e<0||t<=0)throw new n.ErrnoError(28);if(!(r.flags&2097155))throw new n.ErrnoError(8);if(!n.isFile(r.node.mode)&&!n.isDir(r.node.mode))throw new n.ErrnoError(43);if(!r.stream_ops.allocate)throw new n.ErrnoError(138);r.stream_ops.allocate(r,e,t)},mmap:(r,e,t,o,i)=>{if(o&2&&!(i&2)&&(r.flags&2097155)!==2)throw new n.ErrnoError(2);if((r.flags&2097155)===1)throw new n.ErrnoError(2);if(!r.stream_ops.mmap)throw new n.ErrnoError(43);return r.stream_ops.mmap(r,e,t,o,i)},msync:(r,e,t,o,i)=>r.stream_ops.msync?r.stream_ops.msync(r,e,t,o,i):0,munmap:r=>0,ioctl:(r,e,t)=>{if(!r.stream_ops.ioctl)throw new n.ErrnoError(59);return r.stream_ops.ioctl(r,e,t)},readFile:(r,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var t,o=n.open(r,e.flags),i=n.stat(r),a=i.size,s=new Uint8Array(a);return n.read(o,s,0,a,0),e.encoding==="utf8"?t=q(s,0):e.encoding==="binary"&&(t=s),n.close(o),t},writeFile:(r,e,t={})=>{t.flags=t.flags||577;var o=n.open(r,t.flags,t.mode);if(typeof e=="string"){var i=new Uint8Array(br(e)+1),a=kr(e,i,0,i.length);n.write(o,i,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(e))n.write(o,e,0,e.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");n.close(o)},cwd:()=>n.currentPath,chdir:r=>{var e=n.lookupPath(r,{follow:!0});if(e.node===null)throw new n.ErrnoError(44);if(!n.isDir(e.node.mode))throw new n.ErrnoError(54);var t=n.nodePermissions(e.node,"x");if(t)throw new n.ErrnoError(t);n.currentPath=e.path},createDefaultDirectories:()=>{n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},createDefaultDevices:()=>{n.mkdir("/dev"),n.registerDevice(n.makedev(1,3),{read:()=>0,write:(e,t,o,i,a)=>i}),n.mkdev("/dev/null",n.makedev(1,3)),I.register(n.makedev(5,0),I.default_tty_ops),I.register(n.makedev(6,0),I.default_tty1_ops),n.mkdev("/dev/tty",n.makedev(5,0)),n.mkdev("/dev/tty1",n.makedev(6,0));var r=be();n.createDevice("/dev","random",r),n.createDevice("/dev","urandom",r),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{n.mkdir("/proc");var r=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount:()=>{var e=n.createNode(r,"fd",16895,73);return e.node_ops={lookup:(t,o)=>{var i=+o,a=n.getStream(i);if(!a)throw new n.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return s.parent=s,s}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{f.stdin?n.createDevice("/dev","stdin",f.stdin):n.symlink("/dev/tty","/dev/stdin"),f.stdout?n.createDevice("/dev","stdout",null,f.stdout):n.symlink("/dev/tty","/dev/stdout"),f.stderr?n.createDevice("/dev","stderr",null,f.stderr):n.symlink("/dev/tty1","/dev/stderr");var r=n.open("/dev/stdin",0),e=n.open("/dev/stdout",1),t=n.open("/dev/stderr",1)},ensureErrnoError:()=>{n.ErrnoError||(n.ErrnoError=function(e,t){this.node=t,this.setErrno=function(o){this.errno=o},this.setErrno(e),this.message="FS error"},n.ErrnoError.prototype=new Error,n.ErrnoError.prototype.constructor=n.ErrnoError,[44].forEach(r=>{n.genericErrors[r]=new n.ErrnoError(r),n.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{n.ensureErrnoError(),n.nameTable=new Array(4096),n.mount(w,{},"/"),n.createDefaultDirectories(),n.createDefaultDevices(),n.createSpecialDirectories(),n.filesystems={MEMFS:w}},init:(r,e,t)=>{n.init.initialized=!0,n.ensureErrnoError(),f.stdin=r||f.stdin,f.stdout=e||f.stdout,f.stderr=t||f.stderr,n.createStandardStreams()},quit:()=>{n.init.initialized=!1;for(var r=0;r<n.streams.length;r++){var e=n.streams[r];e&&n.close(e)}},getMode:(r,e)=>{var t=0;return r&&(t|=365),e&&(t|=146),t},findObject:(r,e)=>{var t=n.analyzePath(r,e);return t.exists?t.object:null},analyzePath:(r,e)=>{try{var t=n.lookupPath(r,{follow:!e});r=t.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=n.lookupPath(r,{parent:!0});o.parentExists=!0,o.parentPath=t.path,o.parentObject=t.node,o.name=k.basename(r),t=n.lookupPath(r,{follow:!e}),o.exists=!0,o.path=t.path,o.object=t.node,o.name=t.node.name,o.isRoot=t.path==="/"}catch(i){o.error=i.errno}return o},createPath:(r,e,t,o)=>{r=typeof r=="string"?r:n.getPath(r);for(var i=e.split("/").reverse();i.length;){var a=i.pop();if(a){var s=k.join2(r,a);try{n.mkdir(s)}catch{}r=s}}return s},createFile:(r,e,t,o,i)=>{var a=k.join2(typeof r=="string"?r:n.getPath(r),e),s=n.getMode(o,i);return n.create(a,s)},createDataFile:(r,e,t,o,i,a)=>{var s=e;r&&(r=typeof r=="string"?r:n.getPath(r),s=e?k.join2(r,e):r);var u=n.getMode(o,i),l=n.create(s,u);if(t){if(typeof t=="string"){for(var v=new Array(t.length),_=0,E=t.length;_<E;++_)v[_]=t.charCodeAt(_);t=v}n.chmod(l,u|146);var h=n.open(l,577);n.write(h,t,0,t.length,0,a),n.close(h),n.chmod(l,u)}return l},createDevice:(r,e,t,o)=>{var i=k.join2(typeof r=="string"?r:n.getPath(r),e),a=n.getMode(!!t,!!o);n.createDevice.major||(n.createDevice.major=64);var s=n.makedev(n.createDevice.major++,0);return n.registerDevice(s,{open:u=>{u.seekable=!1},close:u=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(u,l,v,_,E)=>{for(var h=0,d=0;d<_;d++){var g;try{g=t()}catch{throw new n.ErrnoError(29)}if(g===void 0&&h===0)throw new n.ErrnoError(6);if(g==null)break;h++,l[v+d]=g}return h&&(u.node.timestamp=Date.now()),h},write:(u,l,v,_,E)=>{for(var h=0;h<_;h++)try{o(l[v+h])}catch{throw new n.ErrnoError(29)}return _&&(u.node.timestamp=Date.now()),h}}),n.mkdev(i,a,s)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(V)try{r.contents=dr(V(r.url),!0),r.usedBytes=r.contents.length}catch{throw new n.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,e,t,o,i)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(d){if(!(d>this.length-1||d<0)){var g=d%this.chunkSize,R=d/this.chunkSize|0;return this.getter(R)[g]}},a.prototype.setDataGetter=function(d){this.getter=d},a.prototype.cacheLength=function(){var d=new XMLHttpRequest;if(d.open("HEAD",t,!1),d.send(null),!(d.status>=200&&d.status<300||d.status===304))throw new Error("Couldn't load "+t+". Status: "+d.status);var g=Number(d.getResponseHeader("Content-length")),R,x=(R=d.getResponseHeader("Accept-Ranges"))&&R==="bytes",N=(R=d.getResponseHeader("Content-Encoding"))&&R==="gzip",c=1024*1024;x||(c=g);var m=(b,L)=>{if(b>L)throw new Error("invalid range ("+b+", "+L+") or no bytes requested!");if(L>g-1)throw new Error("only "+g+" bytes available! programmer error!");var M=new XMLHttpRequest;if(M.open("GET",t,!1),g!==c&&M.setRequestHeader("Range","bytes="+b+"-"+L),M.responseType="arraybuffer",M.overrideMimeType&&M.overrideMimeType("text/plain; charset=x-user-defined"),M.send(null),!(M.status>=200&&M.status<300||M.status===304))throw new Error("Couldn't load "+t+". Status: "+M.status);return M.response!==void 0?new Uint8Array(M.response||[]):dr(M.responseText||"",!0)},P=this;P.setDataGetter(b=>{var L=b*c,M=(b+1)*c-1;if(M=Math.min(M,g-1),typeof P.chunks[b]>"u"&&(P.chunks[b]=m(L,M)),typeof P.chunks[b]>"u")throw new Error("doXHR failed!");return P.chunks[b]}),(N||!g)&&(c=g=1,g=this.getter(0).length,c=g,ar("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=g,this._chunkSize=c,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:s}}else var u={isDevice:!1,url:t};var l=n.createFile(r,e,u,o,i);u.contents?l.contents=u.contents:u.url&&(l.contents=null,l.url=u.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var v={},_=Object.keys(l.stream_ops);_.forEach(h=>{var d=l.stream_ops[h];v[h]=function(){return n.forceLoadFile(l),d.apply(null,arguments)}});function E(h,d,g,R,x){var N=h.node.contents;if(x>=N.length)return 0;var c=Math.min(N.length-x,R);if(N.slice)for(var m=0;m<c;m++)d[g+m]=N[x+m];else for(var m=0;m<c;m++)d[g+m]=N.get(x+m);return c}return v.read=(h,d,g,R,x)=>(n.forceLoadFile(l),E(h,d,g,R,x)),v.mmap=(h,d,g,R,x)=>{n.forceLoadFile(l);var N=Cr(d);if(!N)throw new n.ErrnoError(48);return E(h,B,N,d,g),{ptr:N,allocated:!0}},l.stream_ops=v,l},createPreloadedFile:(r,e,t,o,i,a,s,u,l,v)=>{var _=e?C.resolve(k.join2(r,e)):r,E="cp "+_;function h(d){function g(R){v&&v(),u||n.createDataFile(r,e,R,o,i,l),a&&a(),ur(E)}Browser.handledByPreloadPlugin(d,_,g,()=>{s&&s(),ur(E)})||g(d)}Sr(E),typeof t=="string"?De(t,d=>h(d),s):h(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,e,t)=>{e=e||(()=>{}),t=t||(()=>{});var o=n.indexedDB();try{var i=o.open(n.DB_NAME(),n.DB_VERSION)}catch(a){return t(a)}i.onupgradeneeded=()=>{ar("creating db");var a=i.result;a.createObjectStore(n.DB_STORE_NAME)},i.onsuccess=()=>{var a=i.result,s=a.transaction([n.DB_STORE_NAME],"readwrite"),u=s.objectStore(n.DB_STORE_NAME),l=0,v=0,_=r.length;function E(){v==0?e():t()}r.forEach(h=>{var d=u.put(n.analyzePath(h).object.contents,h);d.onsuccess=()=>{l++,l+v==_&&E()},d.onerror=()=>{v++,l+v==_&&E()}}),s.onerror=t},i.onerror=t},loadFilesFromDB:(r,e,t)=>{e=e||(()=>{}),t=t||(()=>{});var o=n.indexedDB();try{var i=o.open(n.DB_NAME(),n.DB_VERSION)}catch(a){return t(a)}i.onupgradeneeded=t,i.onsuccess=()=>{var a=i.result;try{var s=a.transaction([n.DB_STORE_NAME],"readonly")}catch(h){t(h);return}var u=s.objectStore(n.DB_STORE_NAME),l=0,v=0,_=r.length;function E(){v==0?e():t()}r.forEach(h=>{var d=u.get(h);d.onsuccess=()=>{n.analyzePath(h).exists&&n.unlink(h),n.createDataFile(k.dirname(h),k.basename(h),d.result,!0,!0,!0),l++,l+v==_&&E()},d.onerror=()=>{v++,l+v==_&&E()}}),s.onerror=t},i.onerror=t}},S={DEFAULT_POLLMASK:5,calculateAt:function(r,e,t){if(k.isAbs(e))return e;var o;if(r===-100)o=n.cwd();else{var i=S.getStreamFromFD(r);o=i.path}if(e.length==0){if(!t)throw new n.ErrnoError(44);return o}return k.join2(o,e)},doStat:function(r,e,t){try{var o=r(e)}catch(u){if(u&&u.node&&k.normalize(e)!==k.normalize(n.getPath(u.node)))return-54;throw u}p[t>>2]=o.dev,p[t+8>>2]=o.ino,p[t+12>>2]=o.mode,D[t+16>>2]=o.nlink,p[t+20>>2]=o.uid,p[t+24>>2]=o.gid,p[t+28>>2]=o.rdev,F=[o.size>>>0,(y=o.size,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+40>>2]=F[0],p[t+44>>2]=F[1],p[t+48>>2]=4096,p[t+52>>2]=o.blocks;var i=o.atime.getTime(),a=o.mtime.getTime(),s=o.ctime.getTime();return F=[Math.floor(i/1e3)>>>0,(y=Math.floor(i/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+56>>2]=F[0],p[t+60>>2]=F[1],D[t+64>>2]=i%1e3*1e3,F=[Math.floor(a/1e3)>>>0,(y=Math.floor(a/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+72>>2]=F[0],p[t+76>>2]=F[1],D[t+80>>2]=a%1e3*1e3,F=[Math.floor(s/1e3)>>>0,(y=Math.floor(s/1e3),+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+88>>2]=F[0],p[t+92>>2]=F[1],D[t+96>>2]=s%1e3*1e3,F=[o.ino>>>0,(y=o.ino,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[t+104>>2]=F[0],p[t+108>>2]=F[1],0},doMsync:function(r,e,t,o,i){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);if(o&2)return 0;var a=$.slice(r,r+t);n.msync(e,a,i,t,o)},varargs:void 0,get:function(){S.varargs+=4;var r=p[S.varargs-4>>2];return r},getStr:function(r){var e=G(r);return e},getStreamFromFD:function(r){var e=n.getStream(r);if(!e)throw new n.ErrnoError(8);return e}};function Se(r,e,t){S.varargs=t;try{var o=S.getStreamFromFD(r);switch(e){case 0:{var i=S.get();if(i<0)return-28;var a;return a=n.createStream(o,i),a.fd}case 1:case 2:return 0;case 3:return o.flags;case 4:{var i=S.get();return o.flags|=i,0}case 5:{var i=S.get(),s=0;return Nr[i+s>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return ke(28),-1;default:return-28}}catch(u){if(typeof n>"u"||!(u instanceof n.ErrnoError))throw u;return-u.errno}}function Ae(r,e,t){S.varargs=t;try{var o=S.getStreamFromFD(r);switch(e){case 21509:case 21505:return o.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return o.tty?0:-59;case 21519:{if(!o.tty)return-59;var i=S.get();return p[i>>2]=0,0}case 21520:return o.tty?-28:-59;case 21531:{var i=S.get();return n.ioctl(o,e,i)}case 21523:return o.tty?0:-59;case 21524:return o.tty?0:-59;default:return-28}}catch(a){if(typeof n>"u"||!(a instanceof n.ErrnoError))throw a;return-a.errno}}function Me(r,e,t,o){S.varargs=o;try{e=S.getStr(e),e=S.calculateAt(r,e);var i=o?S.get():0;return n.open(e,t,i).fd}catch(a){if(typeof n>"u"||!(a instanceof n.ErrnoError))throw a;return-a.errno}}function Fe(){U("")}function Pe(r,e,t){$.copyWithin(r,e,e+t)}function Re(r){U("OOM")}function Te(r){var e=$.length;r=r>>>0,Re(r)}var Ar={};function Ne(){return er||"./this.program"}function Z(){if(!Z.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Ne()};for(var t in Ar)Ar[t]===void 0?delete e[t]:e[t]=Ar[t];var o=[];for(var t in e)o.push(t+"="+e[t]);Z.strings=o}return Z.strings}function Oe(r,e,t){for(var o=0;o<r.length;++o)B[e++>>0]=r.charCodeAt(o);t||(B[e>>0]=0)}function Be(r,e){var t=0;return Z().forEach(function(o,i){var a=e+t;D[r+i*4>>2]=a,Oe(o,a),t+=o.length+1}),0}function xe(r,e){var t=Z();D[r>>2]=t.length;var o=0;return t.forEach(function(i){o+=i.length+1}),D[e>>2]=o,0}function Le(r){try{var e=S.getStreamFromFD(r);return n.close(e),0}catch(t){if(typeof n>"u"||!(t instanceof n.ErrnoError))throw t;return t.errno}}function ze(r,e,t,o){for(var i=0,a=0;a<t;a++){var s=D[e>>2],u=D[e+4>>2];e+=8;var l=n.read(r,B,s,u,o);if(l<0)return-1;if(i+=l,l<u)break}return i}function Ue(r,e,t,o){try{var i=S.getStreamFromFD(r),a=ze(i,e,t);return D[o>>2]=a,0}catch(s){if(typeof n>"u"||!(s instanceof n.ErrnoError))throw s;return s.errno}}function Ce(r,e){return e+2097152>>>0<4194305-!!r?(r>>>0)+e*4294967296:NaN}function Ie(r,e,t,o,i){try{var a=Ce(e,t);if(isNaN(a))return 61;var s=S.getStreamFromFD(r);return n.llseek(s,a,o),F=[s.position>>>0,(y=s.position,+Math.abs(y)>=1?y>0?(Math.min(+Math.floor(y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((y-+(~~y>>>0))/4294967296)>>>0:0)],p[i>>2]=F[0],p[i+4>>2]=F[1],s.getdents&&a===0&&o===0&&(s.getdents=null),0}catch(u){if(typeof n>"u"||!(u instanceof n.ErrnoError))throw u;return u.errno}}function He(r,e,t,o){for(var i=0,a=0;a<t;a++){var s=D[e>>2],u=D[e+4>>2];e+=8;var l=n.write(r,B,s,u,o);if(l<0)return-1;i+=l}return i}function je(r,e,t,o){try{var i=S.getStreamFromFD(r),a=He(i,e,t);return D[o>>2]=a,0}catch(s){if(typeof n>"u"||!(s instanceof n.ErrnoError))throw s;return s.errno}}function mr(r){return r%4===0&&(r%100!==0||r%400===0)}function Ye(r,e){for(var t=0,o=0;o<=e;t+=r[o++]);return t}var Ir=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function We(r,e){for(var t=new Date(r.getTime());e>0;){var o=mr(t.getFullYear()),i=t.getMonth(),a=(o?Ir:Hr)[i];if(e>a-t.getDate())e-=a-t.getDate()+1,t.setDate(1),i<11?t.setMonth(i+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+e),t}return t}function Xe(r,e){B.set(r,e)}function qe(r,e,t,o){var i=p[o+40>>2],a={tm_sec:p[o>>2],tm_min:p[o+4>>2],tm_hour:p[o+8>>2],tm_mday:p[o+12>>2],tm_mon:p[o+16>>2],tm_year:p[o+20>>2],tm_wday:p[o+24>>2],tm_yday:p[o+28>>2],tm_isdst:p[o+32>>2],tm_gmtoff:p[o+36>>2],tm_zone:i?G(i):""},s=G(t),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in u)s=s.replace(new RegExp(l,"g"),u[l]);var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"];function E(c,m,P){for(var b=typeof c=="number"?c.toString():c||"";b.length<m;)b=P[0]+b;return b}function h(c,m){return E(c,m,"0")}function d(c,m){function P(L){return L<0?-1:L>0?1:0}var b;return(b=P(c.getFullYear()-m.getFullYear()))===0&&(b=P(c.getMonth()-m.getMonth()))===0&&(b=P(c.getDate()-m.getDate())),b}function g(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function R(c){var m=We(new Date(c.tm_year+1900,0,1),c.tm_yday),P=new Date(m.getFullYear(),0,4),b=new Date(m.getFullYear()+1,0,4),L=g(P),M=g(b);return d(L,m)<=0?d(M,m)<=0?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}var x={"%a":function(c){return v[c.tm_wday].substring(0,3)},"%A":function(c){return v[c.tm_wday]},"%b":function(c){return _[c.tm_mon].substring(0,3)},"%B":function(c){return _[c.tm_mon]},"%C":function(c){var m=c.tm_year+1900;return h(m/100|0,2)},"%d":function(c){return h(c.tm_mday,2)},"%e":function(c){return E(c.tm_mday,2," ")},"%g":function(c){return R(c).toString().substring(2)},"%G":function(c){return R(c)},"%H":function(c){return h(c.tm_hour,2)},"%I":function(c){var m=c.tm_hour;return m==0?m=12:m>12&&(m-=12),h(m,2)},"%j":function(c){return h(c.tm_mday+Ye(mr(c.tm_year+1900)?Ir:Hr,c.tm_mon-1),3)},"%m":function(c){return h(c.tm_mon+1,2)},"%M":function(c){return h(c.tm_min,2)},"%n":function(){return`
`},"%p":function(c){return c.tm_hour>=0&&c.tm_hour<12?"AM":"PM"},"%S":function(c){return h(c.tm_sec,2)},"%t":function(){return"	"},"%u":function(c){return c.tm_wday||7},"%U":function(c){var m=c.tm_yday+7-c.tm_wday;return h(Math.floor(m/7),2)},"%V":function(c){var m=Math.floor((c.tm_yday+7-(c.tm_wday+6)%7)/7);if((c.tm_wday+371-c.tm_yday-2)%7<=2&&m++,m){if(m==53){var b=(c.tm_wday+371-c.tm_yday)%7;b!=4&&(b!=3||!mr(c.tm_year))&&(m=1)}}else{m=52;var P=(c.tm_wday+7-c.tm_yday-1)%7;(P==4||P==5&&mr(c.tm_year%400-1))&&m++}return h(m,2)},"%w":function(c){return c.tm_wday},"%W":function(c){var m=c.tm_yday+7-(c.tm_wday+6)%7;return h(Math.floor(m/7),2)},"%y":function(c){return(c.tm_year+1900).toString().substring(2)},"%Y":function(c){return c.tm_year+1900},"%z":function(c){var m=c.tm_gmtoff,P=m>=0;return m=Math.abs(m)/60,m=m/60*100+m%60,(P?"+":"-")+String("0000"+m).slice(-4)},"%Z":function(c){return c.tm_zone},"%%":function(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var l in x)s.includes(l)&&(s=s.replace(new RegExp(l,"g"),x[l](a)));s=s.replace(/\0\0/g,"%");var N=dr(s,!1);return N.length>e?0:(Xe(N,r),N.length-1)}function Ge(r,e,t,o,i){return qe(r,e,t,o)}function Ve(r){sr=r,Lr()||(f.onExit&&f.onExit(r),Er=!0),tr(r,new cr(r))}function Ke(r,e){sr=r,Ve(r)}function Je(r){if(r instanceof cr||r=="unwind")return sr;tr(1,r)}function $e(r){var e=br(r)+1,t=Mr(e);return kr(r,B,t,e),t}var jr=function(r,e,t,o){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=n.nextInode++,this.name=e,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=o},hr=365,vr=146;Object.defineProperties(jr.prototype,{read:{get:function(){return(this.mode&hr)===hr},set:function(r){r?this.mode|=hr:this.mode&=~hr}},write:{get:function(){return(this.mode&vr)===vr},set:function(r){r?this.mode|=vr:this.mode&=~vr}},isFolder:{get:function(){return n.isDir(this.mode)}},isDevice:{get:function(){return n.isChrdev(this.mode)}}}),n.FSNode=jr,n.staticInit();var Qe={b:we,a:Ee,d:Se,h:Ae,j:Me,e:Fe,k:Pe,i:Te,n:Be,o:xe,f:Le,g:Ue,l:Ie,c:je,m:Ge},at=pe(),Ze=f.___wasm_call_ctors=function(){return(Ze=f.___wasm_call_ctors=f.asm.q).apply(null,arguments)},rt=f._main=function(){return(rt=f._main=f.asm.s).apply(null,arguments)},Yr=f.___errno_location=function(){return(Yr=f.___errno_location=f.asm.t).apply(null,arguments)},Mr=f.stackAlloc=function(){return(Mr=f.stackAlloc=f.asm.u).apply(null,arguments)},Wr=f.___cxa_is_pointer_type=function(){return(Wr=f.___cxa_is_pointer_type=f.asm.v).apply(null,arguments)};f.callMain=Xr,f.FS=n;var pr;Q=function r(){pr||qr(),pr||(Q=r)};function Xr(r){var e=f._main;r=r||[],r.unshift(er);var t=r.length,o=Mr((t+1)*4),i=o>>2;r.forEach(s=>{p[i++]=$e(s)}),p[i]=0;try{var a=e(t,o);return Ke(a,!0),a}catch(s){return Je(s)}}function qr(r){if(r=r||yr,H>0||(se(),H>0))return;function e(){pr||(pr=!0,f.calledRun=!0,!Er&&(ue(),fe(),Y(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),Gr&&Xr(r),ce()))}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),e()},1)):e()}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();var Gr=!1;return f.noInitialRun&&(Gr=!1),qr(),A.ready}})(),Vr=et;var wr=class{#r;#e;constructor(A,f){this.#r=A,this.#e=f}run(A,f,Y){return this.#r.FS.writeFile("/dictionary",A),this.#r.FS.writeFile("/source",f),this.#r.FS.writeFile("/target",Y),this.#r.callMain(["dictionary","source","target"]),tt(this.#e)}static async create(A){let f=[];function Y(rr){f.push(rr)}let W=await Vr({print:Y,wasmBinary:A});return new wr(W,f)}};function tt(j){return j.map(A=>nt(A))}function nt(j){let A=j.split("	");if(A.length!==3)throw`could not convert ${A} to rung`;return[parseInt(A[0]),parseInt(A[1]),Number.parseFloat(A[2])]}export{wr as Hunalign};
